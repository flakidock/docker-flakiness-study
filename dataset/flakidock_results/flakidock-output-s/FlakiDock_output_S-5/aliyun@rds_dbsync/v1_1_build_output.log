#0 building with "default" instance using docker driver

#1 [internal] load build definition from v1_Dockerfile
#1 transferring dockerfile: 2.12kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/centos:7
#2 ...

#3 [auth] library/centos:pull token for registry-1.docker.io
#3 DONE 0.0s

#2 [internal] load metadata for docker.io/library/centos:7
#2 DONE 1.0s

#4 [internal] load .dockerignore
#4 transferring context: 155B done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 240.93kB 0.0s done
#5 DONE 0.0s

#6 [1/4] FROM docker.io/library/centos:7@sha256:be65f488b7764ad3638f236b7b515b3678369a5124c47b8d32916d6487418ea4
#6 resolve docker.io/library/centos:7@sha256:be65f488b7764ad3638f236b7b515b3678369a5124c47b8d32916d6487418ea4 0.0s done
#6 sha256:be65f488b7764ad3638f236b7b515b3678369a5124c47b8d32916d6487418ea4 1.20kB / 1.20kB done
#6 sha256:dead07b4d8ed7e29e98de0f4504d87e8880d4347859d839686a31da35a3b532f 529B / 529B done
#6 sha256:eeb6ee3f44bd0b5103bb561b4c16bcb82328cfe5809ab675bb17ab3a16c517c9 2.75kB / 2.75kB done
#6 sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 3.15MB / 76.10MB 0.2s
#6 sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 11.53MB / 76.10MB 0.3s
#6 sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 23.07MB / 76.10MB 0.5s
#6 sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 31.46MB / 76.10MB 0.7s
#6 sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 38.80MB / 76.10MB 0.8s
#6 sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 47.19MB / 76.10MB 1.0s
#6 sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 53.48MB / 76.10MB 1.2s
#6 sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 58.72MB / 76.10MB 1.3s
#6 sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 63.96MB / 76.10MB 1.4s
#6 sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 76.10MB / 76.10MB 1.6s
#6 sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 76.10MB / 76.10MB 1.8s done
#6 extracting sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 0.1s
#6 extracting sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc 3.0s done
#6 DONE 5.2s

#7 [2/4] COPY . /tmp/aliyun/
#7 DONE 0.8s

#8 [3/4] RUN set -ex     && {         echo '[mysql57-community]';         echo 'name=mysql57-community';         echo 'baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/7/$basearch/';         echo 'enabled=1';         echo 'gpgcheck=0';         echo '[pgdg10]';         echo 'name=pgdg10';         echo 'baseurl=https://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-$basearch';         echo 'enabled=1';         echo 'gpgcheck=0';     } > /etc/yum.repos.d/dbsync_deps.repo     && cp -ra /var/log/yum.log /tmp/yum.log.old     && yum install mysql-community-client mysql-community-devel postgresql10-devel gcc gcc-c++ make unzip -y     && update-alternatives --install /usr/bin/pg_config pgsql-pg_config /usr/pgsql-10/bin/pg_config 300     && (         cd /tmp/aliyun/dbsync         && make         && install -D -d /dbsync/bin /dbsync/lib         && install -p -D -m 0755 *2pgsql /dbsync/bin         && install -p -D -m 0755 ali_recvlogical.so /dbsync/lib         && install -p -D -m 0644 my.cfg ../LICENSE ../README.md /dbsync         && ln -sf /usr/share/mysql /dbsync/share     )     && update-alternatives --remove pgsql-pg_config /usr/pgsql-10/bin/pg_config     && mkdir -p /tmp/extbin     && curl -L https://github.com/aliyun/rds_dbsync/files/1555186/mysql2pgsql.bin.el7.20171213.zip -o /tmp/extbin/bin.zip     && (cd /tmp/extbin && unzip -o bin.zip && install -p -D -m 0755 mysql2pgsql.bin*/bin/binlog_* /dbsync/bin)     && yum remove -y mysql-community-devel postgresql10-devel unzip gcc gcc-c++ make cpp glibc-devel glibc-headers libicu-devel libstdc++-devel kernel-headers     && yum clean all && mv /tmp/yum.log.old /var/log/yum.log     && rm -rf /tmp/aliyun /tmp/extbin /var/cache/yum/* /etc/yum.repos.d/dbsync_deps.repo     && ls -alhR /dbsync && ldd /dbsync/bin/* && mysql --version && psql --version && mysql2pgsql -h
#8 0.175 + echo '[mysql57-community]'
#8 0.175 + echo name=mysql57-community
#8 0.175 + echo 'baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/7/$basearch/'
#8 0.175 + echo enabled=1
#8 0.175 + echo gpgcheck=0
#8 0.175 + echo '[pgdg10]'
#8 0.175 + echo name=pgdg10
#8 0.175 + echo 'baseurl=https://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-$basearch'
#8 0.175 + echo enabled=1
#8 0.175 + echo gpgcheck=0
#8 0.175 + cp -ra /var/log/yum.log /tmp/yum.log.old
#8 0.176 + yum install mysql-community-client mysql-community-devel postgresql10-devel gcc gcc-c++ make unzip -y
#8 0.298 Loaded plugins: fastestmirror, ovl
#8 0.350 Determining fastest mirrors
#8 0.354 Could not retrieve mirrorlist http://mirrorlist.centos.org/?release=7&arch=x86_64&repo=os&infra=container error was
#8 0.354 14: curl#6 - "Could not resolve host: mirrorlist.centos.org; Unknown error"
#8 0.356 
#8 0.356 
#8 0.356  One of the configured repositories failed (Unknown),
#8 0.356  and yum doesn't have enough cached data to continue. At this point the only
#8 0.356  safe thing yum can do is fail. There are a few ways to work "fix" this:
#8 0.356 
#8 0.356      1. Contact the upstream for the repository and get them to fix the problem.
#8 0.356 
#8 0.356      2. Reconfigure the baseurl/etc. for the repository, to point to a working
#8 0.356         upstream. This is most often useful if you are using a newer
#8 0.356         distribution release than is supported by the repository (and the
#8 0.356         packages for the previous distribution release still work).
#8 0.356 
#8 0.356      3. Run the command with the repository temporarily disabled
#8 0.356             yum --disablerepo=<repoid> ...
#8 0.356 
#8 0.356      4. Disable the repository permanently, so yum won't use it by default. Yum
#8 0.356         will then just ignore the repository until you permanently enable it
#8 0.356         again or use --enablerepo for temporary usage:
#8 0.356 
#8 0.356             yum-config-manager --disable <repoid>
#8 0.356         or
#8 0.356             subscription-manager repos --disable=<repoid>
#8 0.356 
#8 0.356      5. Configure the failing repository to be skipped, if it is unavailable.
#8 0.356         Note that yum will try to contact the repo. when it runs most commands,
#8 0.356         so will have to try and fail each time (and thus. yum will be be much
#8 0.356         slower). If it is a very temporary problem though, this is often a nice
#8 0.356         compromise:
#8 0.356 
#8 0.356             yum-config-manager --save --setopt=<repoid>.skip_if_unavailable=true
#8 0.356 
#8 0.356 Cannot find a valid baseurl for repo: base/7/x86_64
#8 ERROR: process "/bin/sh -c set -ex     && {         echo '[mysql57-community]';         echo 'name=mysql57-community';         echo 'baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/7/$basearch/';         echo 'enabled=1';         echo 'gpgcheck=0';         echo '[pgdg10]';         echo 'name=pgdg10';         echo 'baseurl=https://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-$basearch';         echo 'enabled=1';         echo 'gpgcheck=0';     } > /etc/yum.repos.d/dbsync_deps.repo     && cp -ra /var/log/yum.log /tmp/yum.log.old     && yum install mysql-community-client mysql-community-devel postgresql10-devel gcc gcc-c++ make unzip -y     && update-alternatives --install /usr/bin/pg_config pgsql-pg_config /usr/pgsql-10/bin/pg_config 300     && (         cd /tmp/aliyun/dbsync         && make         && install -D -d /dbsync/bin /dbsync/lib         && install -p -D -m 0755 *2pgsql /dbsync/bin         && install -p -D -m 0755 ali_recvlogical.so /dbsync/lib         && install -p -D -m 0644 my.cfg ../LICENSE ../README.md /dbsync         && ln -sf /usr/share/mysql /dbsync/share     )     && update-alternatives --remove pgsql-pg_config /usr/pgsql-10/bin/pg_config     && mkdir -p /tmp/extbin     && curl -L https://github.com/aliyun/rds_dbsync/files/1555186/mysql2pgsql.bin.el7.20171213.zip -o /tmp/extbin/bin.zip     && (cd /tmp/extbin && unzip -o bin.zip && install -p -D -m 0755 mysql2pgsql.bin*/bin/binlog_* /dbsync/bin)     && yum remove -y mysql-community-devel postgresql10-devel unzip gcc gcc-c++ make cpp glibc-devel glibc-headers libicu-devel libstdc++-devel kernel-headers     && yum clean all && mv /tmp/yum.log.old /var/log/yum.log     && rm -rf /tmp/aliyun /tmp/extbin /var/cache/yum/* /etc/yum.repos.d/dbsync_deps.repo     && ls -alhR /dbsync && ldd /dbsync/bin/* && mysql --version && psql --version && mysql2pgsql -h" did not complete successfully: exit code: 1
------
 > [3/4] RUN set -ex     && {         echo '[mysql57-community]';         echo 'name=mysql57-community';         echo 'baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/7/$basearch/';         echo 'enabled=1';         echo 'gpgcheck=0';         echo '[pgdg10]';         echo 'name=pgdg10';         echo 'baseurl=https://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-$basearch';         echo 'enabled=1';         echo 'gpgcheck=0';     } > /etc/yum.repos.d/dbsync_deps.repo     && cp -ra /var/log/yum.log /tmp/yum.log.old     && yum install mysql-community-client mysql-community-devel postgresql10-devel gcc gcc-c++ make unzip -y     && update-alternatives --install /usr/bin/pg_config pgsql-pg_config /usr/pgsql-10/bin/pg_config 300     && (         cd /tmp/aliyun/dbsync         && make         && install -D -d /dbsync/bin /dbsync/lib         && install -p -D -m 0755 *2pgsql /dbsync/bin         && install -p -D -m 0755 ali_recvlogical.so /dbsync/lib         && install -p -D -m 0644 my.cfg ../LICENSE ../README.md /dbsync         && ln -sf /usr/share/mysql /dbsync/share     )     && update-alternatives --remove pgsql-pg_config /usr/pgsql-10/bin/pg_config     && mkdir -p /tmp/extbin     && curl -L https://github.com/aliyun/rds_dbsync/files/1555186/mysql2pgsql.bin.el7.20171213.zip -o /tmp/extbin/bin.zip     && (cd /tmp/extbin && unzip -o bin.zip && install -p -D -m 0755 mysql2pgsql.bin*/bin/binlog_* /dbsync/bin)     && yum remove -y mysql-community-devel postgresql10-devel unzip gcc gcc-c++ make cpp glibc-devel glibc-headers libicu-devel libstdc++-devel kernel-headers     && yum clean all && mv /tmp/yum.log.old /var/log/yum.log     && rm -rf /tmp/aliyun /tmp/extbin /var/cache/yum/* /etc/yum.repos.d/dbsync_deps.repo     && ls -alhR /dbsync && ldd /dbsync/bin/* && mysql --version && psql --version && mysql2pgsql -h:
0.356 
0.356      5. Configure the failing repository to be skipped, if it is unavailable.
0.356         Note that yum will try to contact the repo. when it runs most commands,
0.356         so will have to try and fail each time (and thus. yum will be be much
0.356         slower). If it is a very temporary problem though, this is often a nice
0.356         compromise:
0.356 
0.356             yum-config-manager --save --setopt=<repoid>.skip_if_unavailable=true
0.356 
0.356 Cannot find a valid baseurl for repo: base/7/x86_64
------
v1_Dockerfile:8
--------------------
   7 |     
   8 | >>> RUN set -ex \
   9 | >>>     && { \
  10 | >>>         echo '[mysql57-community]'; \
  11 | >>>         echo 'name=mysql57-community'; \
  12 | >>>         echo 'baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/7/$basearch/'; \
  13 | >>>         echo 'enabled=1'; \
  14 | >>>         echo 'gpgcheck=0'; \
  15 | >>>         echo '[pgdg10]'; \
  16 | >>>         echo 'name=pgdg10'; \
  17 | >>>         echo 'baseurl=https://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-$basearch'; \
  18 | >>>         echo 'enabled=1'; \
  19 | >>>         echo 'gpgcheck=0'; \
  20 | >>>     } > /etc/yum.repos.d/dbsync_deps.repo \
  21 | >>>     && cp -ra /var/log/yum.log /tmp/yum.log.old \
  22 | >>>     && yum install mysql-community-client mysql-community-devel postgresql10-devel gcc gcc-c++ make unzip -y \
  23 | >>>     && update-alternatives --install /usr/bin/pg_config pgsql-pg_config /usr/pgsql-10/bin/pg_config 300 \
  24 | >>>     && ( \
  25 | >>>         cd /tmp/aliyun/dbsync \
  26 | >>>         && make \
  27 | >>>         && install -D -d /dbsync/bin /dbsync/lib \
  28 | >>>         && install -p -D -m 0755 *2pgsql /dbsync/bin \
  29 | >>>         && install -p -D -m 0755 ali_recvlogical.so /dbsync/lib \
  30 | >>>         && install -p -D -m 0644 my.cfg ../LICENSE ../README.md /dbsync \
  31 | >>>         && ln -sf /usr/share/mysql /dbsync/share \
  32 | >>>     ) \
  33 | >>>     && update-alternatives --remove pgsql-pg_config /usr/pgsql-10/bin/pg_config \
  34 | >>>     && mkdir -p /tmp/extbin \
  35 | >>>     && curl -L https://github.com/aliyun/rds_dbsync/files/1555186/mysql2pgsql.bin.el7.20171213.zip -o /tmp/extbin/bin.zip \
  36 | >>>     && (cd /tmp/extbin && unzip -o bin.zip && install -p -D -m 0755 mysql2pgsql.bin*/bin/binlog_* /dbsync/bin) \
  37 | >>>     && yum remove -y mysql-community-devel postgresql10-devel unzip gcc gcc-c++ make cpp glibc-devel glibc-headers libicu-devel libstdc++-devel kernel-headers \
  38 | >>>     && yum clean all && mv /tmp/yum.log.old /var/log/yum.log \
  39 | >>>     && rm -rf /tmp/aliyun /tmp/extbin /var/cache/yum/* /etc/yum.repos.d/dbsync_deps.repo \
  40 | >>>     && ls -alhR /dbsync && ldd /dbsync/bin/* && mysql --version && psql --version && mysql2pgsql -h
  41 |     
--------------------
ERROR: failed to solve: process "/bin/sh -c set -ex     && {         echo '[mysql57-community]';         echo 'name=mysql57-community';         echo 'baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/7/$basearch/';         echo 'enabled=1';         echo 'gpgcheck=0';         echo '[pgdg10]';         echo 'name=pgdg10';         echo 'baseurl=https://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-$basearch';         echo 'enabled=1';         echo 'gpgcheck=0';     } > /etc/yum.repos.d/dbsync_deps.repo     && cp -ra /var/log/yum.log /tmp/yum.log.old     && yum install mysql-community-client mysql-community-devel postgresql10-devel gcc gcc-c++ make unzip -y     && update-alternatives --install /usr/bin/pg_config pgsql-pg_config /usr/pgsql-10/bin/pg_config 300     && (         cd /tmp/aliyun/dbsync         && make         && install -D -d /dbsync/bin /dbsync/lib         && install -p -D -m 0755 *2pgsql /dbsync/bin         && install -p -D -m 0755 ali_recvlogical.so /dbsync/lib         && install -p -D -m 0644 my.cfg ../LICENSE ../README.md /dbsync         && ln -sf /usr/share/mysql /dbsync/share     )     && update-alternatives --remove pgsql-pg_config /usr/pgsql-10/bin/pg_config     && mkdir -p /tmp/extbin     && curl -L https://github.com/aliyun/rds_dbsync/files/1555186/mysql2pgsql.bin.el7.20171213.zip -o /tmp/extbin/bin.zip     && (cd /tmp/extbin && unzip -o bin.zip && install -p -D -m 0755 mysql2pgsql.bin*/bin/binlog_* /dbsync/bin)     && yum remove -y mysql-community-devel postgresql10-devel unzip gcc gcc-c++ make cpp glibc-devel glibc-headers libicu-devel libstdc++-devel kernel-headers     && yum clean all && mv /tmp/yum.log.old /var/log/yum.log     && rm -rf /tmp/aliyun /tmp/extbin /var/cache/yum/* /etc/yum.repos.d/dbsync_deps.repo     && ls -alhR /dbsync && ldd /dbsync/bin/* && mysql --version && psql --version && mysql2pgsql -h" did not complete successfully: exit code: 1
Duration: 0:7.68