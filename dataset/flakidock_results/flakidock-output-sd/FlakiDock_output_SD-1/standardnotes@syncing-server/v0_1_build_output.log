#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile:
#1 transferring dockerfile: 487B done
#1 DONE 0.5s

#2 [internal] load .dockerignore
#2 transferring context: 2B done
#2 DONE 0.6s

#3 [internal] load metadata for docker.io/library/ruby:2.6.5-alpine
#3 ...

#4 [auth] library/ruby:pull token for registry-1.docker.io
#4 DONE 0.0s

#3 [internal] load metadata for docker.io/library/ruby:2.6.5-alpine
#3 DONE 1.5s

#5 [1/7] FROM docker.io/library/ruby:2.6.5-alpine@sha256:a5b974e2ebb2b72642f4de4e5562597ec0883c3bfd93e9553cee6bd395dfbf00
#5 resolve docker.io/library/ruby:2.6.5-alpine@sha256:a5b974e2ebb2b72642f4de4e5562597ec0883c3bfd93e9553cee6bd395dfbf00
#5 resolve docker.io/library/ruby:2.6.5-alpine@sha256:a5b974e2ebb2b72642f4de4e5562597ec0883c3bfd93e9553cee6bd395dfbf00 0.3s done
#5 ...

#6 [internal] load build context
#6 transferring context: 1.37MB 0.0s done
#6 DONE 0.4s

#5 [1/7] FROM docker.io/library/ruby:2.6.5-alpine@sha256:a5b974e2ebb2b72642f4de4e5562597ec0883c3bfd93e9553cee6bd395dfbf00
#5 sha256:a5b974e2ebb2b72642f4de4e5562597ec0883c3bfd93e9553cee6bd395dfbf00 1.65kB / 1.65kB done
#5 sha256:1060a5ad860d58fbcaf2f917bbb8f882f002e2bbd670985f4d4cc88fad9c70b2 1.36kB / 1.36kB done
#5 sha256:59d4ec426ed6932cd5c3e1248ae1da0910aa1cc5b9209414ae77304cc0395537 5.93kB / 5.93kB done
#5 sha256:aad63a9339440e7c3e1fff2b988991b9bfb81280042fa7f39a5e327023056819 0B / 2.80MB 0.1s
#5 sha256:cca28d9d22b9db22fe924a8dea99a0f2b6dd9bd713535ee3469f5d5d97f67871 0B / 1.13MB 0.2s
#5 sha256:aad63a9339440e7c3e1fff2b988991b9bfb81280042fa7f39a5e327023056819 2.80MB / 2.80MB 0.4s
#5 sha256:cca28d9d22b9db22fe924a8dea99a0f2b6dd9bd713535ee3469f5d5d97f67871 1.13MB / 1.13MB 0.4s
#5 sha256:e46ee7bc75f66e10d9b504cc4dcdc6546a700b1c62a007d608e3774ad2edd402 196B / 196B 0.4s
#5 sha256:aad63a9339440e7c3e1fff2b988991b9bfb81280042fa7f39a5e327023056819 2.80MB / 2.80MB 0.5s done
#5 extracting sha256:aad63a9339440e7c3e1fff2b988991b9bfb81280042fa7f39a5e327023056819 0.1s
#5 sha256:cca28d9d22b9db22fe924a8dea99a0f2b6dd9bd713535ee3469f5d5d97f67871 1.13MB / 1.13MB 0.6s done
#5 sha256:e46ee7bc75f66e10d9b504cc4dcdc6546a700b1c62a007d608e3774ad2edd402 196B / 196B 0.6s done
#5 sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 0B / 22.04MB 0.7s
#5 sha256:c262dbdf41d75f6e2ffeb341e0d64b36709c007a4a2e3a133b9d1c4b60a54743 0B / 141B 0.7s
#5 extracting sha256:aad63a9339440e7c3e1fff2b988991b9bfb81280042fa7f39a5e327023056819 0.2s done
#5 sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 5.24MB / 22.04MB 0.9s
#5 sha256:c262dbdf41d75f6e2ffeb341e0d64b36709c007a4a2e3a133b9d1c4b60a54743 141B / 141B 0.9s done
#5 extracting sha256:cca28d9d22b9db22fe924a8dea99a0f2b6dd9bd713535ee3469f5d5d97f67871
#5 sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 13.63MB / 22.04MB 1.1s
#5 extracting sha256:cca28d9d22b9db22fe924a8dea99a0f2b6dd9bd713535ee3469f5d5d97f67871 0.1s done
#5 sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 18.87MB / 22.04MB 1.3s
#5 extracting sha256:e46ee7bc75f66e10d9b504cc4dcdc6546a700b1c62a007d608e3774ad2edd402 done
#5 sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 22.04MB / 22.04MB 1.5s
#5 sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 22.04MB / 22.04MB 1.7s done
#5 extracting sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876
#5 extracting sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 1.0s done
#5 extracting sha256:c262dbdf41d75f6e2ffeb341e0d64b36709c007a4a2e3a133b9d1c4b60a54743
#5 extracting sha256:c262dbdf41d75f6e2ffeb341e0d64b36709c007a4a2e3a133b9d1c4b60a54743 done
#5 DONE 4.7s

#7 [2/7] RUN apk add --update --no-cache     alpine-sdk     mariadb-dev     tzdata
#7 0.464 fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz
#7 0.664 fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz
#7 0.924 (1/48) Upgrading musl (1.1.24-r2 -> 1.1.24-r3)
#7 1.142 (2/48) Upgrading libcrypto1.1 (1.1.1d-r3 -> 1.1.1l-r0)
#7 2.046 (3/48) Upgrading libssl1.1 (1.1.1d-r3 -> 1.1.1l-r0)
#7 2.262 (4/48) Installing fakeroot (1.24-r0)
#7 2.477 (5/48) Installing sudo (1.9.5p2-r1)
#7 2.788 (6/48) Installing libcap (2.27-r0)
#7 3.005 (7/48) Installing pax-utils (1.2.4-r0)
#7 3.221 (8/48) Installing openssl (1.1.1l-r0)
#7 3.444 (9/48) Installing libattr (2.4.48-r0)
#7 3.704 (10/48) Installing attr (2.4.48-r0)
#7 4.023 (11/48) Installing libacl (2.2.53-r0)
#7 4.273 (12/48) Installing tar (1.32-r2)
#7 4.558 (13/48) Installing patch (2.7.6-r7)
#7 4.781 (14/48) Upgrading libstdc++ (9.2.0-r4 -> 9.3.0-r0)
#7 5.040 (15/48) Installing lzip (1.21-r0)
#7 5.303 (16/48) Installing nghttp2-libs (1.40.0-r1)
#7 5.577 (17/48) Installing libcurl (7.79.1-r0)
#7 5.821 (18/48) Installing curl (7.79.1-r0)
#7 6.045 (19/48) Installing abuild (3.5.0-r1)
#7 6.049 Executing abuild-3.5.0-r1.pre-install
#7 6.329 (20/48) Installing binutils (2.33.1-r1)
#7 6.930 (21/48) Installing libmagic (5.37-r1)
#7 7.150 (22/48) Installing file (5.37-r1)
#7 7.405 (23/48) Installing isl (0.18-r0)
#7 7.636 (24/48) Installing libgomp (9.3.0-r0)
#7 7.896 (25/48) Installing libatomic (9.3.0-r0)
#7 8.106 (26/48) Installing mpfr4 (4.0.2-r1)
#7 8.426 (27/48) Installing mpc1 (1.1.0-r1)
#7 8.718 (28/48) Installing gcc (9.3.0-r0)
#7 10.65 (29/48) Installing musl-dev (1.1.24-r3)
#7 11.29 (30/48) Installing libc-dev (0.7.2-r0)
#7 11.55 (31/48) Installing g++ (9.3.0-r0)
#7 12.57 (32/48) Installing make (4.2.1-r2)
#7 12.78 (33/48) Installing fortify-headers (1.1-r0)
#7 13.25 (34/48) Installing build-base (0.5-r1)
#7 13.46 (35/48) Installing expat (2.2.9-r1)
#7 13.72 (36/48) Installing pcre2 (10.34-r1)
#7 13.96 (37/48) Installing git (2.24.4-r0)
#7 18.64 (38/48) Installing alpine-sdk (1.0-r0)
#7 18.85 (39/48) Installing openssl-dev (1.1.1l-r0)
#7 19.40 (40/48) Installing mariadb-connector-c (3.1.6-r1)
#7 20.37 (41/48) Installing mariadb-connector-c-dev (3.1.6-r1)
#7 20.64 (42/48) Installing mariadb-common (10.4.22-r0)
#7 20.92 (43/48) Installing libaio (0.3.112-r1)
#7 21.18 (44/48) Installing xz-libs (5.2.4-r0)
#7 21.46 (45/48) Installing pcre (8.43-r1)
#7 21.72 (46/48) Installing mariadb-embedded (10.4.22-r0)
#7 22.30 (47/48) Installing mariadb-dev (10.4.22-r0)
#7 28.64 (48/48) Installing tzdata (2021e-r0)
#7 28.85 Executing busybox-1.31.1-r9.trigger
#7 28.86 Executing ca-certificates-20191127-r1.trigger
#7 28.90 OK: 240 MiB in 80 packages
#7 DONE 29.9s

#8 [3/7] WORKDIR /syncing-server
#8 DONE 0.5s

#9 [4/7] COPY Gemfile Gemfile.lock /syncing-server/
#9 DONE 0.4s

#10 [5/7] RUN if [ "$optimize_for_raspberry_pi" = true ] ; then sed -i 's/bcrypt (3.1.16)/bcrypt (3.1.12)/g' Gemfile.lock; fi
#10 DONE 0.9s

#11 [6/7] RUN gem install bundler && bundle install
#11 43.85 ERROR:  Error installing bundler:
#11 43.85 	The last version of bundler (>= 0) to support your Ruby & RubyGems was 2.4.22. Try installing it with `gem install bundler -v 2.4.22`
#11 43.85 	bundler requires Ruby version >= 3.0.0. The current ruby version is 2.6.5.114.
#11 ERROR: process "/bin/sh -c gem install bundler && bundle install" did not complete successfully: exit code: 1
------
 > [6/7] RUN gem install bundler && bundle install:
43.85 ERROR:  Error installing bundler:
43.85 	The last version of bundler (>= 0) to support your Ruby & RubyGems was 2.4.22. Try installing it with `gem install bundler -v 2.4.22`
43.85 	bundler requires Ruby version >= 3.0.0. The current ruby version is 2.6.5.114.
------
Dockerfile:16
--------------------
  14 |     RUN if [ "$optimize_for_raspberry_pi" = true ] ; then sed -i 's/bcrypt (3.1.16)/bcrypt (3.1.12)/g' Gemfile.lock; fi
  15 |     
  16 | >>> RUN gem install bundler && bundle install
  17 |     
  18 |     COPY . /syncing-server
--------------------
ERROR: failed to solve: process "/bin/sh -c gem install bundler && bundle install" did not complete successfully: exit code: 1
Duration: 1:23.77