#0 building with "default" instance using docker driver

#1 [internal] load .dockerignore
#1 ...

#2 [internal] load build definition from v1_Dockerfile
#2 transferring dockerfile: 825B done
#2 DONE 0.4s

#1 [internal] load .dockerignore
#1 transferring context: 135B done
#1 DONE 0.5s

#3 [internal] load metadata for mcr.microsoft.com/dotnet/core/sdk:2.1
#3 DONE 0.8s

#4 [ 1/17] FROM mcr.microsoft.com/dotnet/core/sdk:2.1@sha256:4db9513d5b1bcf4b88c5700f9b831908d435d9771fd28a338b123e5ab8eec036
#4 resolve mcr.microsoft.com/dotnet/core/sdk:2.1@sha256:4db9513d5b1bcf4b88c5700f9b831908d435d9771fd28a338b123e5ab8eec036 0.1s done
#4 sha256:ae4daaaab45c6c6b0d2e36d93d8eed8ab255bdab9df02f08f3c39ba90ceb22a9 1.80kB / 1.80kB done
#4 sha256:4db9513d5b1bcf4b88c5700f9b831908d435d9771fd28a338b123e5ab8eec036 1.84kB / 1.84kB done
#4 sha256:8a72748c6b28091b505fb49ba09e5b679e7e0e1d0fe72160caee7f3d61e3feac 4.53kB / 4.53kB done
#4 sha256:4ae15c65bfa0fdc9053dcb734e6c034f5394ea0481dee3277f6e3e9fa07702d0 0B / 4.34MB 0.1s
#4 sha256:4ae15c65bfa0fdc9053dcb734e6c034f5394ea0481dee3277f6e3e9fa07702d0 4.34MB / 4.34MB 0.3s
#4 sha256:eb18d230e067c240479c6a3f842e7f9d4ff1088e3072d0a3245829c4e356623f 3.15MB / 45.38MB 0.3s
#4 ...

#5 [internal] load build context
#5 transferring context: 1.63MB 0.1s done
#5 DONE 0.5s

#4 [ 1/17] FROM mcr.microsoft.com/dotnet/core/sdk:2.1@sha256:4db9513d5b1bcf4b88c5700f9b831908d435d9771fd28a338b123e5ab8eec036
#4 sha256:4ae15c65bfa0fdc9053dcb734e6c034f5394ea0481dee3277f6e3e9fa07702d0 4.34MB / 4.34MB 0.3s done
#4 sha256:eb18d230e067c240479c6a3f842e7f9d4ff1088e3072d0a3245829c4e356623f 11.53MB / 45.38MB 0.4s
#4 sha256:eb18d230e067c240479c6a3f842e7f9d4ff1088e3072d0a3245829c4e356623f 26.21MB / 45.38MB 0.6s
#4 sha256:83600c1b4583abb5830c6d4a039cbab9a102ac1a7b3b779854638a371bb7128f 0B / 11.30MB 0.6s
#4 sha256:eb18d230e067c240479c6a3f842e7f9d4ff1088e3072d0a3245829c4e356623f 32.51MB / 45.38MB 0.7s
#4 sha256:83600c1b4583abb5830c6d4a039cbab9a102ac1a7b3b779854638a371bb7128f 4.19MB / 11.30MB 0.7s
#4 sha256:c19c058edda50f20bd5b06380342e9d99f7138770d79e0b031565dd0c7707fce 0B / 49.76MB 0.7s
#4 sha256:eb18d230e067c240479c6a3f842e7f9d4ff1088e3072d0a3245829c4e356623f 41.94MB / 45.38MB 0.9s
#4 sha256:83600c1b4583abb5830c6d4a039cbab9a102ac1a7b3b779854638a371bb7128f 11.30MB / 11.30MB 0.9s
#4 sha256:c19c058edda50f20bd5b06380342e9d99f7138770d79e0b031565dd0c7707fce 5.24MB / 49.76MB 0.9s
#4 sha256:eb18d230e067c240479c6a3f842e7f9d4ff1088e3072d0a3245829c4e356623f 45.38MB / 45.38MB 1.1s
#4 sha256:83600c1b4583abb5830c6d4a039cbab9a102ac1a7b3b779854638a371bb7128f 11.30MB / 11.30MB 1.1s done
#4 sha256:c19c058edda50f20bd5b06380342e9d99f7138770d79e0b031565dd0c7707fce 20.97MB / 49.76MB 1.1s
#4 sha256:c19c058edda50f20bd5b06380342e9d99f7138770d79e0b031565dd0c7707fce 37.75MB / 49.76MB 1.3s
#4 sha256:c19c058edda50f20bd5b06380342e9d99f7138770d79e0b031565dd0c7707fce 45.09MB / 49.76MB 1.4s
#4 sha256:c19c058edda50f20bd5b06380342e9d99f7138770d79e0b031565dd0c7707fce 49.76MB / 49.76MB 1.6s
#4 sha256:eb18d230e067c240479c6a3f842e7f9d4ff1088e3072d0a3245829c4e356623f 45.38MB / 45.38MB 1.9s done
#4 extracting sha256:eb18d230e067c240479c6a3f842e7f9d4ff1088e3072d0a3245829c4e356623f
#4 sha256:fa5b7de410ab6a1c3e586b9befec99899a563e090672532a0205a85a237085cb 0B / 13.25MB 2.0s
#4 sha256:fa5b7de410ab6a1c3e586b9befec99899a563e090672532a0205a85a237085cb 5.24MB / 13.25MB 2.1s
#4 sha256:fa5b7de410ab6a1c3e586b9befec99899a563e090672532a0205a85a237085cb 13.25MB / 13.25MB 2.2s
#4 sha256:c19c058edda50f20bd5b06380342e9d99f7138770d79e0b031565dd0c7707fce 49.76MB / 49.76MB 2.7s done
#4 sha256:fa5b7de410ab6a1c3e586b9befec99899a563e090672532a0205a85a237085cb 13.25MB / 13.25MB 2.9s done
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 0B / 171.29MB 3.0s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 0B / 303.36MB 3.1s
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 17.83MB / 171.29MB 3.6s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 16.78MB / 303.36MB 3.6s
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 28.31MB / 171.29MB 3.8s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 33.55MB / 303.36MB 3.9s
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 44.04MB / 171.29MB 4.1s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 51.38MB / 303.36MB 4.2s
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 59.77MB / 171.29MB 4.4s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 67.11MB / 303.36MB 4.5s
#4 extracting sha256:eb18d230e067c240479c6a3f842e7f9d4ff1088e3072d0a3245829c4e356623f 2.5s done
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 72.35MB / 171.29MB 4.6s
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 82.84MB / 171.29MB 4.8s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 83.89MB / 303.36MB 4.8s
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 94.37MB / 171.29MB 5.0s
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 104.86MB / 171.29MB 5.2s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 105.91MB / 303.36MB 5.2s
#4 extracting sha256:83600c1b4583abb5830c6d4a039cbab9a102ac1a7b3b779854638a371bb7128f
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 115.34MB / 171.29MB 5.4s
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 125.83MB / 171.29MB 5.6s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 124.78MB / 303.36MB 5.6s
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 136.31MB / 171.29MB 5.8s
#4 extracting sha256:83600c1b4583abb5830c6d4a039cbab9a102ac1a7b3b779854638a371bb7128f 0.6s done
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 146.80MB / 171.29MB 6.0s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 144.70MB / 303.36MB 6.0s
#4 extracting sha256:4ae15c65bfa0fdc9053dcb734e6c034f5394ea0481dee3277f6e3e9fa07702d0
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 156.24MB / 171.29MB 6.2s
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 167.77MB / 171.29MB 6.4s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 165.68MB / 303.36MB 6.4s
#4 extracting sha256:4ae15c65bfa0fdc9053dcb734e6c034f5394ea0481dee3277f6e3e9fa07702d0 0.2s done
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 188.74MB / 303.36MB 6.7s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 207.62MB / 303.36MB 7.0s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 227.54MB / 303.36MB 7.4s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 248.51MB / 303.36MB 7.8s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 271.58MB / 303.36MB 8.1s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 288.36MB / 303.36MB 8.3s
#4 sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 171.29MB / 171.29MB 10.4s done
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 303.36MB / 303.36MB 13.5s
#4 sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 303.36MB / 303.36MB 15.4s done
#4 extracting sha256:c19c058edda50f20bd5b06380342e9d99f7138770d79e0b031565dd0c7707fce 0.1s
#4 extracting sha256:c19c058edda50f20bd5b06380342e9d99f7138770d79e0b031565dd0c7707fce 3.3s done
#4 extracting sha256:fa5b7de410ab6a1c3e586b9befec99899a563e090672532a0205a85a237085cb
#4 extracting sha256:fa5b7de410ab6a1c3e586b9befec99899a563e090672532a0205a85a237085cb 0.7s done
#4 extracting sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703
#4 extracting sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 5.0s
#4 extracting sha256:6e1ebcd381250104f4231c05eaba5a632388f249c644056b32da75408cde4703 6.9s done
#4 extracting sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8
#4 extracting sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 5.1s
#4 extracting sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 10.1s
#4 extracting sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 15.2s
#4 extracting sha256:d22db8cd915ea0c1414de6e2823aa0c47cedda4984004787c1a627e2e009aae8 18.8s done
#4 DONE 47.9s

#6 [ 2/17] WORKDIR /repo
#6 DONE 38.0s

#7 [ 3/17] COPY ./*.sln ./
#7 DONE 0.3s

#8 [ 4/17] COPY ./build/ ./build/
#8 DONE 0.4s

#9 [ 5/17] COPY ./src/*/*.csproj ./src/
#9 DONE 0.4s

#10 [ 6/17] RUN for file in $(ls src/*.csproj); do mkdir -p ./${file%.*}/ && mv $file ./${file%.*}/; done
#10 DONE 1.0s

#11 [ 7/17] COPY ./tests/*/*.csproj ./tests/
#11 DONE 0.4s

#12 [ 8/17] RUN for file in $(ls tests/*.csproj); do mkdir -p ./${file%.*}/ && mv $file ./${file%.*}/; done
#12 DONE 0.9s

#13 [ 9/17] RUN dotnet restore
#13 6.099 /usr/share/dotnet/sdk/2.1.818/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(137,5): error NETSDK1045: The current .NET SDK does not support targeting .NET Core 3.1.  Either target .NET Core 2.1 or lower, or use a version of the .NET SDK that supports .NET Core 3.1. [/repo/tests/SqlStreamStore.MsSql.V3.Tests/SqlStreamStore.MsSql.V3.Tests.csproj]
#13 6.099 /usr/share/dotnet/sdk/2.1.818/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(137,5): error NETSDK1045: The current .NET SDK does not support targeting .NET Core 3.1.  Either target .NET Core 2.1 or lower, or use a version of the .NET SDK that supports .NET Core 3.1. [/repo/build/build.csproj]
#13 6.099 /usr/share/dotnet/sdk/2.1.818/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(137,5): error NETSDK1045: The current .NET SDK does not support targeting .NET Core 3.1.  Either target .NET Core 2.1 or lower, or use a version of the .NET SDK that supports .NET Core 3.1. [/repo/tests/SqlStreamStore.MySql.Tests/SqlStreamStore.MySql.Tests.csproj]
#13 6.099 /usr/share/dotnet/sdk/2.1.818/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(137,5): error NETSDK1045: The current .NET SDK does not support targeting .NET Core 3.1.  Either target .NET Core 2.1 or lower, or use a version of the .NET SDK that supports .NET Core 3.1. [/repo/tests/SqlStreamStore.MsSql.Tests/SqlStreamStore.MsSql.Tests.csproj]
#13 6.100 /usr/share/dotnet/sdk/2.1.818/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(137,5): error NETSDK1045: The current .NET SDK does not support targeting .NET Core 3.1.  Either target .NET Core 2.1 or lower, or use a version of the .NET SDK that supports .NET Core 3.1. [/repo/src/LoadTests/LoadTests.csproj]
#13 6.100 /usr/share/dotnet/sdk/2.1.818/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(137,5): error NETSDK1045: The current .NET SDK does not support targeting .NET Core 3.1.  Either target .NET Core 2.1 or lower, or use a version of the .NET SDK that supports .NET Core 3.1. [/repo/tests/SqlStreamStore.Sqlite.Tests/SqlStreamStore.Sqlite.Tests.csproj]
#13 6.102 /usr/share/dotnet/sdk/2.1.818/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(137,5): error NETSDK1045: The current .NET SDK does not support targeting .NET Core 3.1.  Either target .NET Core 2.1 or lower, or use a version of the .NET SDK that supports .NET Core 3.1. [/repo/tests/SqlStreamStore.Http.Tests/SqlStreamStore.Http.Tests.csproj]
#13 ERROR: process "/bin/sh -c dotnet restore" did not complete successfully: exit code: 1
------
 > [ 9/17] RUN dotnet restore:
the .NET SDK that supports .NET Core 3.1. [/repo/build/build.csproj]
6.099 /usr/share/dotnet/sdk/2.1.818/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(137,5): error NETSDK1045: The current .NET SDK does not support targeting .NET Core 3.1.  Either target .NET Core 2.1 or lower, or use a version of the .NET SDK that supports .NET Core 3.1. [/repo/tests/SqlStreamStore.MySql.Tests/SqlStreamStore.MySql.Tests.csproj]
6.099 /usr/share/dotnet/sdk/2.1.818/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(137,5): error NETSDK1045: The current .NET SDK does not support targeting .NET Core 3.1.  Either target .NET Core 2.1 or lower, or use a version of the .NET SDK that supports .NET Core 3.1. [/repo/tests/SqlStreamStore.MsSql.Tests/SqlStreamStore.MsSql.Tests.csproj]
6.100 /usr/share/dotnet/sdk/2.1.818/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(137,5): error NETSDK1045: The current .NET SDK does not support targeting .NET Core 3.1.  Either target .NET Core 2.1 or lower, or use a version of the .NET SDK that supports .NET Core 3.1. [/repo/src/LoadTests/LoadTests.csproj]
6.100 /usr/share/dotnet/sdk/2.1.818/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(137,5): error NETSDK1045: The current .NET SDK does not support targeting .NET Core 3.1.  Either target .NET Core 2.1 or lower, or use a version of the .NET SDK that supports .NET Core 3.1. [/repo/tests/SqlStreamStore.Sqlite.Tests/SqlStreamStore.Sqlite.Tests.csproj]
6.102 /usr/share/dotnet/sdk/2.1.818/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(137,5): error NETSDK1045: The current .NET SDK does not support targeting .NET Core 3.1.  Either target .NET Core 2.1 or lower, or use a version of the .NET SDK that supports .NET Core 3.1. [/repo/tests/SqlStreamStore.Http.Tests/SqlStreamStore.Http.Tests.csproj]
------
v1_Dockerfile:19
--------------------
  17 |     RUN for file in $(ls tests/*.csproj); do mkdir -p ./${file%.*}/ && mv $file ./${file%.*}/; done
  18 |     
  19 | >>> RUN dotnet restore
  20 |     
  21 |     COPY ./assets ./assets/
--------------------
ERROR: failed to solve: process "/bin/sh -c dotnet restore" did not complete successfully: exit code: 1
Duration: 1:37.86