#0 building with "default" instance using docker driver

#1 [internal] load build definition from v1_Dockerfile
#1 transferring dockerfile:
#1 transferring dockerfile: 686B done
#1 DONE 0.4s

#2 [internal] load .dockerignore
#2 transferring context: 81B done
#2 DONE 0.5s

#3 [internal] load metadata for docker.io/library/ruby:2.7.2
#3 DONE 1.2s

#4 [internal] load build context
#4 DONE 0.0s

#5 [1/9] FROM docker.io/library/ruby:2.7.2@sha256:1dd0106849233fcd913b7c4608078fa1a53a5e3ce1af2a55e4d726b0d8868e2f
#5 resolve docker.io/library/ruby:2.7.2@sha256:1dd0106849233fcd913b7c4608078fa1a53a5e3ce1af2a55e4d726b0d8868e2f 0.1s done
#5 sha256:1dd0106849233fcd913b7c4608078fa1a53a5e3ce1af2a55e4d726b0d8868e2f 1.86kB / 1.86kB done
#5 sha256:825f3b5230df07ce77d03718c76a8f5bcfec648ebaed637efb5b2b6069f15b9b 2.00kB / 2.00kB done
#5 sha256:e6c92ed2f03be9788b80944e148783bef8e7d0fa8d9755b62e9f03429e85a327 7.23kB / 7.23kB done
#5 sha256:5d6f1e8117dbb1c6a57603cb4f321a861a08105a81bcc6b01b0ec2b78c8523a5 0B / 7.83MB 0.1s
#5 sha256:004f1eed87df3f75f5e2a1a649fa7edd7f713d1300532fd0909bb39cd48437d7 0B / 50.43MB 0.2s
#5 sha256:48c2faf66abec3dce9f54d6722ff592fce6dd4fb58a0d0b72282936c6598a3b3 0B / 10.00MB 0.3s
#5 sha256:5d6f1e8117dbb1c6a57603cb4f321a861a08105a81bcc6b01b0ec2b78c8523a5 4.19MB / 7.83MB 0.5s
#5 sha256:004f1eed87df3f75f5e2a1a649fa7edd7f713d1300532fd0909bb39cd48437d7 9.44MB / 50.43MB 0.5s
#5 sha256:5d6f1e8117dbb1c6a57603cb4f321a861a08105a81bcc6b01b0ec2b78c8523a5 5.24MB / 7.83MB 0.6s
#5 sha256:004f1eed87df3f75f5e2a1a649fa7edd7f713d1300532fd0909bb39cd48437d7 18.87MB / 50.43MB 0.6s
#5 sha256:5d6f1e8117dbb1c6a57603cb4f321a861a08105a81bcc6b01b0ec2b78c8523a5 7.83MB / 7.83MB 0.8s
#5 sha256:004f1eed87df3f75f5e2a1a649fa7edd7f713d1300532fd0909bb39cd48437d7 29.36MB / 50.43MB 0.8s
#5 sha256:48c2faf66abec3dce9f54d6722ff592fce6dd4fb58a0d0b72282936c6598a3b3 10.00MB / 10.00MB 0.8s
#5 ...

#4 [internal] load build context
#4 transferring context: 41.22MB 0.6s done
#4 DONE 1.0s

#5 [1/9] FROM docker.io/library/ruby:2.7.2@sha256:1dd0106849233fcd913b7c4608078fa1a53a5e3ce1af2a55e4d726b0d8868e2f
#5 sha256:5d6f1e8117dbb1c6a57603cb4f321a861a08105a81bcc6b01b0ec2b78c8523a5 7.83MB / 7.83MB 0.9s done
#5 sha256:004f1eed87df3f75f5e2a1a649fa7edd7f713d1300532fd0909bb39cd48437d7 48.23MB / 50.43MB 1.0s
#5 sha256:48c2faf66abec3dce9f54d6722ff592fce6dd4fb58a0d0b72282936c6598a3b3 10.00MB / 10.00MB 1.1s done
#5 sha256:234b70d0479d7f16d7ee8d04e4ffdacc57d7d14313faf59d332f18b2e9418743 0B / 51.84MB 1.4s
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 0B / 192.35MB 1.4s
#5 sha256:234b70d0479d7f16d7ee8d04e4ffdacc57d7d14313faf59d332f18b2e9418743 7.34MB / 51.84MB 1.5s
#5 sha256:234b70d0479d7f16d7ee8d04e4ffdacc57d7d14313faf59d332f18b2e9418743 22.02MB / 51.84MB 1.7s
#5 sha256:234b70d0479d7f16d7ee8d04e4ffdacc57d7d14313faf59d332f18b2e9418743 37.75MB / 51.84MB 1.9s
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 14.68MB / 192.35MB 1.9s
#5 sha256:234b70d0479d7f16d7ee8d04e4ffdacc57d7d14313faf59d332f18b2e9418743 44.04MB / 51.84MB 2.0s
#5 extracting sha256:004f1eed87df3f75f5e2a1a649fa7edd7f713d1300532fd0909bb39cd48437d7
#5 sha256:004f1eed87df3f75f5e2a1a649fa7edd7f713d1300532fd0909bb39cd48437d7 50.43MB / 50.43MB 2.0s done
#5 sha256:234b70d0479d7f16d7ee8d04e4ffdacc57d7d14313faf59d332f18b2e9418743 51.84MB / 51.84MB 2.2s
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 28.31MB / 192.35MB 2.2s
#5 sha256:eaa60f1cb67e2445bd02786d2511bc7b95d242b8a0f5d98fe3370c010765938c 0B / 199B 2.2s
#5 sha256:eaa60f1cb67e2445bd02786d2511bc7b95d242b8a0f5d98fe3370c010765938c 199B / 199B 2.3s
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 40.89MB / 192.35MB 2.5s
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 57.67MB / 192.35MB 2.8s
#5 sha256:234b70d0479d7f16d7ee8d04e4ffdacc57d7d14313faf59d332f18b2e9418743 51.84MB / 51.84MB 3.0s done
#5 sha256:eaa60f1cb67e2445bd02786d2511bc7b95d242b8a0f5d98fe3370c010765938c 199B / 199B 3.0s done
#5 sha256:d7754810970922117227aff354e227e640a46528512f4444670dc98dbd248a76 0B / 22.89MB 3.1s
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 70.25MB / 192.35MB 3.2s
#5 sha256:d9985c49676162d33670600e1f458e2ebe3cf01e53faa4d5c67603bfe4c1d039 0B / 175B 3.2s
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 88.08MB / 192.35MB 3.5s
#5 sha256:d7754810970922117227aff354e227e640a46528512f4444670dc98dbd248a76 9.44MB / 22.89MB 3.5s
#5 sha256:d9985c49676162d33670600e1f458e2ebe3cf01e53faa4d5c67603bfe4c1d039 175B / 175B 3.4s done
#5 sha256:d7754810970922117227aff354e227e640a46528512f4444670dc98dbd248a76 15.73MB / 22.89MB 3.6s
#5 sha256:d7754810970922117227aff354e227e640a46528512f4444670dc98dbd248a76 22.89MB / 22.89MB 3.7s
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 101.71MB / 192.35MB 4.1s
#5 sha256:d7754810970922117227aff354e227e640a46528512f4444670dc98dbd248a76 22.89MB / 22.89MB 4.1s done
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 112.20MB / 192.35MB 4.3s
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 130.02MB / 192.35MB 4.6s
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 145.75MB / 192.35MB 5.0s
#5 extracting sha256:004f1eed87df3f75f5e2a1a649fa7edd7f713d1300532fd0909bb39cd48437d7 2.8s done
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 164.63MB / 192.35MB 5.2s
#5 extracting sha256:5d6f1e8117dbb1c6a57603cb4f321a861a08105a81bcc6b01b0ec2b78c8523a5
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 177.21MB / 192.35MB 5.4s
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 192.35MB / 192.35MB 5.7s
#5 extracting sha256:5d6f1e8117dbb1c6a57603cb4f321a861a08105a81bcc6b01b0ec2b78c8523a5 0.4s done
#5 sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 192.35MB / 192.35MB 8.4s done
#5 extracting sha256:48c2faf66abec3dce9f54d6722ff592fce6dd4fb58a0d0b72282936c6598a3b3
#5 extracting sha256:48c2faf66abec3dce9f54d6722ff592fce6dd4fb58a0d0b72282936c6598a3b3 0.4s done
#5 extracting sha256:234b70d0479d7f16d7ee8d04e4ffdacc57d7d14313faf59d332f18b2e9418743
#5 extracting sha256:234b70d0479d7f16d7ee8d04e4ffdacc57d7d14313faf59d332f18b2e9418743 3.3s done
#5 extracting sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76
#5 extracting sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 5.1s
#5 extracting sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 10.1s
#5 extracting sha256:6fa07a00e2f029c4b2c7f177a2b696f1b3510040cde4f5bb06ddbca98e7fbf76 10.7s done
#5 extracting sha256:eaa60f1cb67e2445bd02786d2511bc7b95d242b8a0f5d98fe3370c010765938c
#5 extracting sha256:eaa60f1cb67e2445bd02786d2511bc7b95d242b8a0f5d98fe3370c010765938c done
#5 extracting sha256:d7754810970922117227aff354e227e640a46528512f4444670dc98dbd248a76
#5 extracting sha256:d7754810970922117227aff354e227e640a46528512f4444670dc98dbd248a76 0.8s done
#5 extracting sha256:d9985c49676162d33670600e1f458e2ebe3cf01e53faa4d5c67603bfe4c1d039
#5 extracting sha256:d9985c49676162d33670600e1f458e2ebe3cf01e53faa4d5c67603bfe4c1d039 done
#5 DONE 30.3s

#6 [2/9] RUN apt-get update && apt-get install -y     build-essential     libpq-dev     nodejs
#6 2.121 Get:1 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]
#6 2.255 Get:2 http://deb.debian.org/debian buster InRelease [122 kB]
#6 2.279 Get:3 http://security.debian.org/debian-security buster/updates/main amd64 Packages [610 kB]
#6 2.430 Get:4 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]
#6 2.443 Get:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]
#6 2.570 Get:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]
#6 3.932 Fetched 8741 kB in 2s (4686 kB/s)
#6 3.932 Reading package lists...
#6 4.703 Reading package lists...
#6 5.445 Building dependency tree...
#6 5.572 Reading state information...
#6 5.678 The following additional packages will be installed:
#6 5.678   libbrotli1 libc-ares2 libnode64 libpq5 libuv1 nodejs-doc
#6 5.679 Suggested packages:
#6 5.679   postgresql-doc-11 npm
#6 5.706 The following NEW packages will be installed:
#6 5.707   build-essential libbrotli1 libc-ares2 libnode64 libuv1 nodejs nodejs-doc
#6 5.707 The following packages will be upgraded:
#6 5.708   libpq-dev libpq5
#6 5.751 2 upgraded, 7 newly installed, 0 to remove and 174 not upgraded.
#6 5.751 Need to get 7514 kB of archives.
#6 5.751 After this operation, 31.9 MB of additional disk space will be used.
#6 5.751 Get:1 http://security.debian.org/debian-security buster/updates/main amd64 libc-ares2 amd64 1.14.0-1+deb10u4 [86.5 kB]
#6 5.752 Get:2 http://deb.debian.org/debian buster/main amd64 build-essential amd64 12.6 [7576 B]
#6 5.764 Get:3 http://deb.debian.org/debian buster/main amd64 libbrotli1 amd64 1.0.7-2+deb10u1 [269 kB]
#6 5.774 Get:4 http://security.debian.org/debian-security buster/updates/main amd64 libuv1 amd64 1.24.1-1+deb10u2 [110 kB]
#6 5.778 Get:5 http://security.debian.org/debian-security buster/updates/main amd64 libnode64 amd64 10.24.0~dfsg-1~deb10u4 [5632 kB]
#6 5.864 Get:6 http://security.debian.org/debian-security buster/updates/main amd64 libpq-dev amd64 11.22-0+deb10u2 [171 kB]
#6 5.866 Get:7 http://security.debian.org/debian-security buster/updates/main amd64 libpq5 amd64 11.22-0+deb10u2 [175 kB]
#6 6.152 Get:8 http://security.debian.org/debian-security buster/updates/main amd64 nodejs-doc all 10.24.0~dfsg-1~deb10u4 [975 kB]
#6 6.165 Get:9 http://security.debian.org/debian-security buster/updates/main amd64 nodejs amd64 10.24.0~dfsg-1~deb10u4 [88.4 kB]
#6 16.59 debconf: delaying package configuration, since apt-utils is not installed
#6 16.65 Fetched 7514 kB in 0s (17.1 MB/s)
#6 16.74 Selecting previously unselected package build-essential.
#6 16.74 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23985 files and directories currently installed.)
#6 16.76 Preparing to unpack .../0-build-essential_12.6_amd64.deb ...
#6 16.79 Unpacking build-essential (12.6) ...
#6 17.06 Selecting previously unselected package libbrotli1:amd64.
#6 17.06 Preparing to unpack .../1-libbrotli1_1.0.7-2+deb10u1_amd64.deb ...
#6 17.12 Unpacking libbrotli1:amd64 (1.0.7-2+deb10u1) ...
#6 17.37 Selecting previously unselected package libc-ares2:amd64.
#6 17.38 Preparing to unpack .../2-libc-ares2_1.14.0-1+deb10u4_amd64.deb ...
#6 17.40 Unpacking libc-ares2:amd64 (1.14.0-1+deb10u4) ...
#6 17.62 Selecting previously unselected package libuv1:amd64.
#6 17.62 Preparing to unpack .../3-libuv1_1.24.1-1+deb10u2_amd64.deb ...
#6 17.65 Unpacking libuv1:amd64 (1.24.1-1+deb10u2) ...
#6 17.87 Selecting previously unselected package libnode64:amd64.
#6 17.87 Preparing to unpack .../4-libnode64_10.24.0~dfsg-1~deb10u4_amd64.deb ...
#6 17.90 Unpacking libnode64:amd64 (10.24.0~dfsg-1~deb10u4) ...
#6 19.06 Preparing to unpack .../5-libpq-dev_11.22-0+deb10u2_amd64.deb ...
#6 19.14 Unpacking libpq-dev (11.22-0+deb10u2) over (11.11-0+deb10u1) ...
#6 19.94 Preparing to unpack .../6-libpq5_11.22-0+deb10u2_amd64.deb ...
#6 20.01 Unpacking libpq5:amd64 (11.22-0+deb10u2) over (11.11-0+deb10u1) ...
#6 31.54 Selecting previously unselected package nodejs-doc.
#6 31.54 Preparing to unpack .../7-nodejs-doc_10.24.0~dfsg-1~deb10u4_all.deb ...
#6 31.57 Unpacking nodejs-doc (10.24.0~dfsg-1~deb10u4) ...
#6 32.01 Selecting previously unselected package nodejs.
#6 32.01 Preparing to unpack .../8-nodejs_10.24.0~dfsg-1~deb10u4_amd64.deb ...
#6 32.04 Unpacking nodejs (10.24.0~dfsg-1~deb10u4) ...
#6 32.30 Setting up libbrotli1:amd64 (1.0.7-2+deb10u1) ...
#6 32.38 Setting up libpq5:amd64 (11.22-0+deb10u2) ...
#6 32.46 Setting up libpq-dev (11.22-0+deb10u2) ...
#6 32.54 Setting up libc-ares2:amd64 (1.14.0-1+deb10u4) ...
#6 32.62 Setting up libuv1:amd64 (1.24.1-1+deb10u2) ...
#6 32.69 Setting up libnode64:amd64 (10.24.0~dfsg-1~deb10u4) ...
#6 32.77 Setting up nodejs-doc (10.24.0~dfsg-1~deb10u4) ...
#6 32.85 Setting up build-essential (12.6) ...
#6 32.93 Setting up nodejs (10.24.0~dfsg-1~deb10u4) ...
#6 33.01 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 33.05 Processing triggers for libc-bin (2.28-10) ...
#6 DONE 33.9s

#7 [3/9] RUN mkdir -p /apps
#7 DONE 0.9s

#8 [4/9] WORKDIR /tmp
#8 DONE 0.5s

#9 [5/9] COPY Gemfile /tmp/Gemfile
#9 DONE 0.4s

#10 [6/9] COPY Gemfile.lock /tmp/Gemfile.lock
#10 DONE 0.4s

#11 [7/9] RUN bundle install
#11 0.702 /usr/local/lib/ruby/2.7.0/rubygems.rb:277:in `find_spec_for_exe': Could not find 'bundler' (1.11.2) required by your /tmp/Gemfile.lock. (Gem::GemNotFoundException)
#11 0.702 To update to the latest version installed on your system, run `bundle update --bundler`.
#11 0.702 To install the missing version, run `gem install bundler:1.11.2`
#11 0.702 	from /usr/local/lib/ruby/2.7.0/rubygems.rb:296:in `activate_bin_path'
#11 0.702 	from /usr/local/bin/bundle:23:in `<main>'
#11 ERROR: process "/bin/sh -c bundle install" did not complete successfully: exit code: 1
------
 > [7/9] RUN bundle install:
0.702 /usr/local/lib/ruby/2.7.0/rubygems.rb:277:in `find_spec_for_exe': Could not find 'bundler' (1.11.2) required by your /tmp/Gemfile.lock. (Gem::GemNotFoundException)
0.702 To update to the latest version installed on your system, run `bundle update --bundler`.
0.702 To install the missing version, run `gem install bundler:1.11.2`
0.702 	from /usr/local/lib/ruby/2.7.0/rubygems.rb:296:in `activate_bin_path'
0.702 	from /usr/local/bin/bundle:23:in `<main>'
------
v1_Dockerfile:20
--------------------
  18 |     COPY Gemfile /tmp/Gemfile
  19 |     COPY Gemfile.lock /tmp/Gemfile.lock
  20 | >>> RUN bundle install
  21 |     
  22 |     # Copy application code from workstation to the working directory
--------------------
ERROR: failed to solve: process "/bin/sh -c bundle install" did not complete successfully: exit code: 1
Duration: 1:9.76