#0 building with "default" instance using docker driver

#1 [internal] load build definition from v1_Dockerfile
#1 transferring dockerfile:
#1 transferring dockerfile: 963B done
#1 DONE 0.6s

#2 [internal] load .dockerignore
#2 transferring context: 50B done
#2 DONE 0.7s

#3 [internal] load metadata for docker.io/library/golang:1.20
#3 ...

#4 [internal] load metadata for docker.io/library/alpine:3.17
#4 DONE 1.5s

#3 [internal] load metadata for docker.io/library/golang:1.20
#3 DONE 1.7s

#5 [internal] load build context
#5 DONE 0.0s

#6 [stage-1 1/4] FROM docker.io/library/alpine:3.17@sha256:ef813b2faa3dd1a37f9ef6ca98347b72cd0f55e4ab29fb90946f1b853bf032d9
#6 resolve docker.io/library/alpine:3.17@sha256:ef813b2faa3dd1a37f9ef6ca98347b72cd0f55e4ab29fb90946f1b853bf032d9
#6 resolve docker.io/library/alpine:3.17@sha256:ef813b2faa3dd1a37f9ef6ca98347b72cd0f55e4ab29fb90946f1b853bf032d9 0.4s done
#6 sha256:ef813b2faa3dd1a37f9ef6ca98347b72cd0f55e4ab29fb90946f1b853bf032d9 1.64kB / 1.64kB done
#6 sha256:cbbbf1a2c8591c11853400fe7db1ce5741016c9f5f034ab57ea0289f675bc249 528B / 528B done
#6 sha256:91dce2778e2dd8d10b7f0788e874976006127847e156f7f40d38694225f43321 1.47kB / 1.47kB done
#6 ...

#5 [internal] load build context
#5 transferring context: 28.84MB 0.4s done
#5 DONE 0.9s

#7 [builder 1/5] FROM docker.io/library/golang:1.20@sha256:8f9af7094d0cb27cc783c697ac5ba25efdc4da35f8526db21f7aebb0b0b4f18a
#7 resolve docker.io/library/golang:1.20@sha256:8f9af7094d0cb27cc783c697ac5ba25efdc4da35f8526db21f7aebb0b0b4f18a 0.4s done
#7 sha256:8f9af7094d0cb27cc783c697ac5ba25efdc4da35f8526db21f7aebb0b0b4f18a 2.36kB / 2.36kB done
#7 sha256:c1a446d8f0c5658cc9af7b207a521995cf26bcfe1c9e6a4e148ba4eb8ed2e8b5 1.79kB / 1.79kB done
#7 sha256:d5beeac3653f7c94aeda867588172915ce848d8d49d4ca24d24245505949b64d 2.75kB / 2.75kB done
#7 sha256:68e92d11b04ec0fe48e60d59964704aca234084f87af5d1a068c49456b37fe3d 13.63MB / 64.14MB 0.8s
#7 sha256:6a299ae9cfd996c1149a699d36cdaa76fa332c8e9d66d6678fa9a231d9ead04c 36.54MB / 49.58MB 0.8s
#7 sha256:e08e8703b2fb5e50153f792f3192087d26970d262806b397049d61b9a14b3af5 11.53MB / 24.05MB 0.8s
#7 sha256:68e92d11b04ec0fe48e60d59964704aca234084f87af5d1a068c49456b37fe3d 18.87MB / 64.14MB 1.0s
#7 sha256:6a299ae9cfd996c1149a699d36cdaa76fa332c8e9d66d6678fa9a231d9ead04c 44.04MB / 49.58MB 1.0s
#7 sha256:e08e8703b2fb5e50153f792f3192087d26970d262806b397049d61b9a14b3af5 22.02MB / 24.05MB 1.0s
#7 sha256:68e92d11b04ec0fe48e60d59964704aca234084f87af5d1a068c49456b37fe3d 31.46MB / 64.14MB 1.2s
#7 sha256:6a299ae9cfd996c1149a699d36cdaa76fa332c8e9d66d6678fa9a231d9ead04c 49.58MB / 49.58MB 1.2s
#7 sha256:e08e8703b2fb5e50153f792f3192087d26970d262806b397049d61b9a14b3af5 24.05MB / 24.05MB 1.2s
#7 sha256:68e92d11b04ec0fe48e60d59964704aca234084f87af5d1a068c49456b37fe3d 47.19MB / 64.14MB 1.4s
#7 sha256:68e92d11b04ec0fe48e60d59964704aca234084f87af5d1a068c49456b37fe3d 64.14MB / 64.14MB 1.6s
#7 sha256:e08e8703b2fb5e50153f792f3192087d26970d262806b397049d61b9a14b3af5 24.05MB / 24.05MB 1.4s done
#7 sha256:6a299ae9cfd996c1149a699d36cdaa76fa332c8e9d66d6678fa9a231d9ead04c 49.58MB / 49.58MB 2.2s done
#7 sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687 0B / 92.37MB 2.3s
#7 extracting sha256:6a299ae9cfd996c1149a699d36cdaa76fa332c8e9d66d6678fa9a231d9ead04c 0.1s
#7 sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687 10.49MB / 92.37MB 2.5s
#7 sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687 19.92MB / 92.37MB 2.6s
#7 sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687 29.36MB / 92.37MB 2.7s
#7 sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687 38.80MB / 92.37MB 2.8s
#7 sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687 48.23MB / 92.37MB 2.9s
#7 sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687 58.72MB / 92.37MB 3.0s
#7 sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687 69.21MB / 92.37MB 3.1s
#7 sha256:68e92d11b04ec0fe48e60d59964704aca234084f87af5d1a068c49456b37fe3d 64.14MB / 64.14MB 3.2s done
#7 sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687 90.18MB / 92.37MB 3.3s
#7 sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 0B / 100.45MB 3.4s
#7 sha256:ffe80ff754489bcce87b4c3580467de7a34764fc1ad5831f6eed096c78320a43 0B / 173B 3.4s
#7 sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 7.34MB / 100.45MB 3.5s
#7 sha256:ffe80ff754489bcce87b4c3580467de7a34764fc1ad5831f6eed096c78320a43 173B / 173B 3.5s
#7 sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 15.73MB / 100.45MB 3.6s
#7 sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 30.41MB / 100.45MB 3.8s
#7 sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 40.89MB / 100.45MB 3.9s
#7 sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 50.33MB / 100.45MB 4.0s
#7 sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 60.82MB / 100.45MB 4.1s
#7 sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 70.25MB / 100.45MB 4.2s
#7 sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 79.69MB / 100.45MB 4.3s
#7 sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 88.08MB / 100.45MB 4.4s
#7 sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 98.57MB / 100.45MB 4.5s
#7 sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687 92.37MB / 92.37MB 4.7s done
#7 sha256:ffe80ff754489bcce87b4c3580467de7a34764fc1ad5831f6eed096c78320a43 173B / 173B 4.7s done
#7 extracting sha256:6a299ae9cfd996c1149a699d36cdaa76fa332c8e9d66d6678fa9a231d9ead04c 2.8s done
#7 sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 100.45MB / 100.45MB 6.4s done
#7 sha256:4f4fb700ef54461cfa02571ae0db9a0dc1e0cdb5577484a6d75e68dc38e8acc1 0B / 32B 6.6s
#7 sha256:4f4fb700ef54461cfa02571ae0db9a0dc1e0cdb5577484a6d75e68dc38e8acc1 32B / 32B 6.6s done
#7 extracting sha256:e08e8703b2fb5e50153f792f3192087d26970d262806b397049d61b9a14b3af5
#7 ...

#6 [stage-1 1/4] FROM docker.io/library/alpine:3.17@sha256:ef813b2faa3dd1a37f9ef6ca98347b72cd0f55e4ab29fb90946f1b853bf032d9
#6 sha256:b99da37831f37d3f77de0ac7a864f9b69f1dbb4461e5ddfe5a3c2b7e2a3586c5 3.39MB / 3.39MB 6.8s done
#6 extracting sha256:b99da37831f37d3f77de0ac7a864f9b69f1dbb4461e5ddfe5a3c2b7e2a3586c5 0.3s done
#6 DONE 8.2s

#7 [builder 1/5] FROM docker.io/library/golang:1.20@sha256:8f9af7094d0cb27cc783c697ac5ba25efdc4da35f8526db21f7aebb0b0b4f18a
#7 ...

#8 [stage-1 2/4] RUN set -x && apk add --no-cache --update ca-certificates
#8 0.625 + apk add --no-cache --update ca-certificates
#8 0.632 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#8 1.789 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#8 2.972 (1/1) Installing ca-certificates (20240226-r0)
#8 3.003 Executing busybox-1.35.0-r31.trigger
#8 3.008 Executing ca-certificates-20240226-r0.trigger
#8 3.108 OK: 8 MiB in 16 packages
#8 ...

#7 [builder 1/5] FROM docker.io/library/golang:1.20@sha256:8f9af7094d0cb27cc783c697ac5ba25efdc4da35f8526db21f7aebb0b0b4f18a
#7 extracting sha256:e08e8703b2fb5e50153f792f3192087d26970d262806b397049d61b9a14b3af5 1.1s done
#7 extracting sha256:68e92d11b04ec0fe48e60d59964704aca234084f87af5d1a068c49456b37fe3d 5.0s done
#7 ...

#8 [stage-1 2/4] RUN set -x && apk add --no-cache --update ca-certificates
#8 DONE 17.7s

#7 [builder 1/5] FROM docker.io/library/golang:1.20@sha256:8f9af7094d0cb27cc783c697ac5ba25efdc4da35f8526db21f7aebb0b0b4f18a
#7 extracting sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687
#7 extracting sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687 5.0s
#7 extracting sha256:4105062d1ee61f98bb0f7f6c0ac998caf55ff9a0e0fda9aa1fddbecc1f591687 5.2s done
#7 extracting sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6
#7 extracting sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 5.0s
#7 extracting sha256:870a28135dd085067b84c7b2af0529d02eab744a63d2834ad2780934573b2be6 5.5s done
#7 extracting sha256:ffe80ff754489bcce87b4c3580467de7a34764fc1ad5831f6eed096c78320a43
#7 extracting sha256:ffe80ff754489bcce87b4c3580467de7a34764fc1ad5831f6eed096c78320a43 done
#7 extracting sha256:4f4fb700ef54461cfa02571ae0db9a0dc1e0cdb5577484a6d75e68dc38e8acc1
#7 extracting sha256:4f4fb700ef54461cfa02571ae0db9a0dc1e0cdb5577484a6d75e68dc38e8acc1 done
#7 DONE 39.6s

#9 [builder 2/5] RUN  apt-get update && apt-get -y install         bash         git          make         zip        && apt-get clean       && rm -rf /var/cache/apt/archives/* /var/lib/apt/lists/*
#9 0.591 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#9 0.768 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#9 0.779 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#9 0.790 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8788 kB]
#9 0.905 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [13.8 kB]
#9 0.923 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [169 kB]
#9 2.230 Fetched 9225 kB in 2s (5554 kB/s)
#9 2.230 Reading package lists...
#9 2.919 Reading package lists...
#9 3.605 Building dependency tree...
#9 3.731 Reading state information...
#9 3.875 git is already the newest version (1:2.39.2-1.1).
#9 3.875 make is already the newest version (4.3-4.1).
#9 3.875 The following additional packages will be installed:
#9 3.875   unzip
#9 3.877 Suggested packages:
#9 3.877   bash-doc
#9 3.877 Recommended packages:
#9 3.877   bash-completion
#9 3.925 The following NEW packages will be installed:
#9 3.925   unzip zip
#9 3.925 The following packages will be upgraded:
#9 3.926   bash
#9 3.963 1 upgraded, 2 newly installed, 0 to remove and 36 not upgraded.
#9 3.963 Need to get 1886 kB of archives.
#9 3.963 After this operation, 1019 kB of additional disk space will be used.
#9 3.963 Get:1 http://deb.debian.org/debian bookworm/main amd64 bash amd64 5.2.15-2+b7 [1490 kB]
#9 4.024 Get:2 http://deb.debian.org/debian bookworm/main amd64 unzip amd64 6.0-28 [166 kB]
#9 4.027 Get:3 http://deb.debian.org/debian bookworm/main amd64 zip amd64 3.0-13 [230 kB]
#9 4.251 debconf: delaying package configuration, since apt-utils is not installed
#9 4.318 Fetched 1886 kB in 0s (19.4 MB/s)
#9 4.472 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 15610 files and directories currently installed.)
#9 4.481 Preparing to unpack .../bash_5.2.15-2+b7_amd64.deb ...
#9 4.585 Unpacking bash (5.2.15-2+b7) over (5.2.15-2+b2) ...
#9 7.188 Setting up bash (5.2.15-2+b7) ...
#9 7.342 update-alternatives: using /usr/share/man/man7/bash-builtins.7.gz to provide /usr/share/man/man7/builtins.7.gz (builtins.7.gz) in auto mode
#9 7.520 Selecting previously unselected package unzip.
#9 7.520 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 15610 files and directories currently installed.)
#9 7.528 Preparing to unpack .../unzip_6.0-28_amd64.deb ...
#9 7.558 Unpacking unzip (6.0-28) ...
#9 7.779 Selecting previously unselected package zip.
#9 7.779 Preparing to unpack .../archives/zip_3.0-13_amd64.deb ...
#9 7.810 Unpacking zip (3.0-13) ...
#9 8.022 Setting up unzip (6.0-28) ...
#9 8.097 Setting up zip (3.0-13) ...
#9 8.173 Processing triggers for debianutils (5.7-0.5~deb12u1) ...
#9 DONE 20.9s

#10 [builder 3/5] ADD . /go/src/github.com/yamamoto-febc/kube-etcd-helper
#10 DONE 1.6s

#11 [builder 4/5] WORKDIR /go/src/github.com/yamamoto-febc/kube-etcd-helper
#11 DONE 0.5s

#12 [builder 5/5] RUN ["make","clean","build"]
#12 0.742 rm -Rf bin/*
#12 1.087 CGO_ENABLED=0 go build -ldflags "-s -w" -o bin/kube-etcd-helper_linux_amd64 *.go
#12 1.261 main.go:6:2: no required module provides package github.com/yamamoto-febc/kube-etcd-helper/command: go.mod file not found in current directory or any parent directory; see 'go help modules'
#12 1.261 main.go:7:2: no required module provides package gopkg.in/urfave/cli.v2: go.mod file not found in current directory or any parent directory; see 'go help modules'
#12 1.261 main.go:8:2: no required module provides package k8s.io/kube-aggregator/pkg/apis/apiregistration/install: go.mod file not found in current directory or any parent directory; see 'go help modules'
#12 1.261 main.go:9:2: no required module provides package k8s.io/kubernetes/pkg/apis/core/install: go.mod file not found in current directory or any parent directory; see 'go help modules'
#12 1.261 main.go:4:2: no required module provides package k8s.io/kubernetes/pkg/kubectl/scheme: go.mod file not found in current directory or any parent directory; see 'go help modules'
#12 1.263 make: *** [Makefile:71: bin/kube-etcd-helper_linux_amd64] Error 1
#12 ERROR: process "make clean build" did not complete successfully: exit code: 2
------
 > [builder 5/5] RUN ["make","clean","build"]:
0.742 rm -Rf bin/*
1.087 CGO_ENABLED=0 go build -ldflags "-s -w" -o bin/kube-etcd-helper_linux_amd64 *.go
1.261 main.go:6:2: no required module provides package github.com/yamamoto-febc/kube-etcd-helper/command: go.mod file not found in current directory or any parent directory; see 'go help modules'
1.261 main.go:7:2: no required module provides package gopkg.in/urfave/cli.v2: go.mod file not found in current directory or any parent directory; see 'go help modules'
1.261 main.go:8:2: no required module provides package k8s.io/kube-aggregator/pkg/apis/apiregistration/install: go.mod file not found in current directory or any parent directory; see 'go help modules'
1.261 main.go:9:2: no required module provides package k8s.io/kubernetes/pkg/apis/core/install: go.mod file not found in current directory or any parent directory; see 'go help modules'
1.261 main.go:4:2: no required module provides package k8s.io/kubernetes/pkg/kubectl/scheme: go.mod file not found in current directory or any parent directory; see 'go help modules'
1.263 make: *** [Makefile:71: bin/kube-etcd-helper_linux_amd64] Error 1
------
v1_Dockerfile:15
--------------------
  13 |     ADD . /go/src/github.com/yamamoto-febc/kube-etcd-helper
  14 |     WORKDIR /go/src/github.com/yamamoto-febc/kube-etcd-helper
  15 | >>> RUN ["make","clean","build"]
  16 |     
  17 |     #----------
--------------------
ERROR: failed to solve: process "make clean build" did not complete successfully: exit code: 2
Duration: 1:7.15