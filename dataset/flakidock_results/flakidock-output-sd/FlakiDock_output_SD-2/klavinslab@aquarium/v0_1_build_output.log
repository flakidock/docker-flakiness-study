#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile:
#1 transferring dockerfile: 3.79kB done
#1 DONE 0.5s

#2 [internal] load .dockerignore
#2 transferring context: 228B done
#2 DONE 0.7s

#3 [internal] load metadata for docker.io/library/ruby:2.6.7-alpine3.13
#3 DONE 2.1s

#4 [internal] load build context
#4 DONE 0.0s

#5 [aquarium 1/5] FROM docker.io/library/ruby:2.6.7-alpine3.13@sha256:953af80c10f1769ebe7449f99c41eea7b98655c38d02feedfd1f7b718df9550b
#5 resolve docker.io/library/ruby:2.6.7-alpine3.13@sha256:953af80c10f1769ebe7449f99c41eea7b98655c38d02feedfd1f7b718df9550b
#5 resolve docker.io/library/ruby:2.6.7-alpine3.13@sha256:953af80c10f1769ebe7449f99c41eea7b98655c38d02feedfd1f7b718df9550b 0.3s done
#5 sha256:953af80c10f1769ebe7449f99c41eea7b98655c38d02feedfd1f7b718df9550b 1.65kB / 1.65kB done
#5 sha256:2ea734ab8ca6f749ae9c9c849831abc92974ccaa43105287cd5f29261073cd21 1.36kB / 1.36kB done
#5 sha256:ba6122d0680c3c7d9bb72ab14a2e5541a56b36bb9b29f5a4697feffa9b264e33 6.05kB / 6.05kB done
#5 sha256:540db60ca9383eac9e418f78490994d0af424aab7bf6d0e47ac8ed4e2e9bcbba 0B / 2.81MB 0.1s
#5 sha256:69c77620f6108dc0610cba72f77d68c271fb1b14cb0800a7a8b6aaeb8950fec9 0B / 222B 0.2s
#5 sha256:540db60ca9383eac9e418f78490994d0af424aab7bf6d0e47ac8ed4e2e9bcbba 2.81MB / 2.81MB 0.4s
#5 sha256:69c77620f6108dc0610cba72f77d68c271fb1b14cb0800a7a8b6aaeb8950fec9 222B / 222B 0.4s
#5 sha256:98a867505730167ce0636f0811cb765ebbde11bf979c1a9839f6915f2fc3b85b 1.22MB / 1.22MB 0.4s
#5 sha256:540db60ca9383eac9e418f78490994d0af424aab7bf6d0e47ac8ed4e2e9bcbba 2.81MB / 2.81MB 0.4s done
#5 extracting sha256:540db60ca9383eac9e418f78490994d0af424aab7bf6d0e47ac8ed4e2e9bcbba
#5 ...

#4 [internal] load build context
#4 transferring context: 10.01MB 0.2s done
#4 DONE 0.8s

#5 [aquarium 1/5] FROM docker.io/library/ruby:2.6.7-alpine3.13@sha256:953af80c10f1769ebe7449f99c41eea7b98655c38d02feedfd1f7b718df9550b
#5 sha256:69c77620f6108dc0610cba72f77d68c271fb1b14cb0800a7a8b6aaeb8950fec9 222B / 222B 0.5s done
#5 sha256:98a867505730167ce0636f0811cb765ebbde11bf979c1a9839f6915f2fc3b85b 1.22MB / 1.22MB 0.6s done
#5 extracting sha256:540db60ca9383eac9e418f78490994d0af424aab7bf6d0e47ac8ed4e2e9bcbba 0.2s done
#5 sha256:e2a9e46cea192f318e0cbabc7376bdfbce057bb7f95099ea5b12f5bf6536c521 0B / 21.84MB 0.8s
#5 extracting sha256:98a867505730167ce0636f0811cb765ebbde11bf979c1a9839f6915f2fc3b85b
#5 sha256:e2a9e46cea192f318e0cbabc7376bdfbce057bb7f95099ea5b12f5bf6536c521 6.29MB / 21.84MB 1.0s
#5 sha256:e71489ac02567dcaa9964120349bfc7fde6e3c68b8d88cf849272d8a1b6d8831 0B / 171B 1.0s
#5 sha256:e2a9e46cea192f318e0cbabc7376bdfbce057bb7f95099ea5b12f5bf6536c521 21.84MB / 21.84MB 1.2s
#5 extracting sha256:98a867505730167ce0636f0811cb765ebbde11bf979c1a9839f6915f2fc3b85b 0.2s done
#5 sha256:e71489ac02567dcaa9964120349bfc7fde6e3c68b8d88cf849272d8a1b6d8831 171B / 171B 1.1s done
#5 sha256:e2a9e46cea192f318e0cbabc7376bdfbce057bb7f95099ea5b12f5bf6536c521 21.84MB / 21.84MB 1.5s done
#5 extracting sha256:69c77620f6108dc0610cba72f77d68c271fb1b14cb0800a7a8b6aaeb8950fec9 done
#5 extracting sha256:e2a9e46cea192f318e0cbabc7376bdfbce057bb7f95099ea5b12f5bf6536c521
#5 extracting sha256:e2a9e46cea192f318e0cbabc7376bdfbce057bb7f95099ea5b12f5bf6536c521 1.0s done
#5 extracting sha256:e71489ac02567dcaa9964120349bfc7fde6e3c68b8d88cf849272d8a1b6d8831
#5 extracting sha256:e71489ac02567dcaa9964120349bfc7fde6e3c68b8d88cf849272d8a1b6d8831 done
#5 DONE 4.9s

#6 [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system
#6 0.873 fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz
#6 1.107 fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz
#6 1.454 (1/83) Upgrading libcrypto1.1 (1.1.1k-r0 -> 1.1.1s-r0)
#6 1.812 (2/83) Upgrading libssl1.1 (1.1.1k-r0 -> 1.1.1s-r0)
#6 1.828 (3/83) Installing fstrm (0.6.0-r1)
#6 1.831 (4/83) Installing krb5-conf (1.0-r2)
#6 1.834 (5/83) Installing libcom_err (1.45.7-r0)
#6 1.837 (6/83) Installing keyutils-libs (1.6.3-r0)
#6 1.840 (7/83) Installing libverto (0.3.1-r1)
#6 1.857 (8/83) Installing krb5-libs (1.18.5-r0)
#6 1.892 (9/83) Installing json-c (0.15-r1)
#6 1.896 (10/83) Installing libprotobuf (3.13.0-r2)
#6 1.923 (11/83) Installing libprotoc (3.13.0-r2)
#6 1.945 (12/83) Installing protobuf-c (1.3.3-r4)
#6 1.949 (13/83) Installing libuv (1.40.0-r0)
#6 1.955 (14/83) Installing xz-libs (5.2.5-r1)
#6 1.982 (15/83) Installing libxml2 (2.9.14-r2)
#6 1.999 (16/83) Installing bind-libs (9.16.33-r0)
#6 2.217 (17/83) Installing bind-tools (9.16.33-r0)
#6 2.244 (18/83) Installing libmagic (5.39-r0)
#6 2.274 (19/83) Installing file (5.39-r0)
#6 2.276 (20/83) Installing libxau (1.0.9-r0)
#6 2.279 (21/83) Installing libbsd (0.10.0-r0)
#6 2.283 (22/83) Installing libxdmcp (1.1.3-r0)
#6 2.286 (23/83) Installing libxcb (1.14-r1)
#6 2.302 (24/83) Installing libx11 (1.7.1-r0)
#6 2.361 (25/83) Installing libxext (1.3.4-r0)
#6 2.371 (26/83) Installing libbz2 (1.0.8-r1)
#6 2.380 (27/83) Installing expat (2.2.10-r8)
#6 2.390 (28/83) Installing brotli-libs (1.0.9-r3)
#6 2.405 (29/83) Installing libpng (1.6.37-r1)
#6 2.410 (30/83) Installing freetype (2.10.4-r3)
#6 2.423 (31/83) Installing libuuid (2.37.4-r0)
#6 2.425 (32/83) Installing fontconfig (2.13.1-r3)
#6 2.442 (33/83) Installing lcms2 (2.11-r0)
#6 2.450 (34/83) Installing libltdl (2.4.6-r7)
#6 2.453 (35/83) Installing imagemagick-libs (7.0.11.14-r0)
#6 2.491 (36/83) Installing libxrender (0.9.10-r3)
#6 2.494 (37/83) Installing pixman (0.40.0-r3)
#6 2.504 (38/83) Installing cairo (1.16.0-r4)
#6 2.522 (39/83) Installing libblkid (2.37.4-r0)
#6 2.529 (40/83) Installing libmount (2.37.4-r0)
#6 2.543 (41/83) Installing pcre (8.44-r0)
#6 2.552 (42/83) Installing glib (2.66.8-r0)
#6 2.593 (43/83) Installing dbus-libs (1.12.24-r0)
#6 2.601 (44/83) Installing avahi-libs (0.8-r4)
#6 2.605 (45/83) Installing nettle (3.7.3-r0)
#6 2.615 (46/83) Installing p11-kit (0.23.22-r0)
#6 2.628 (47/83) Installing libtasn1 (4.16.0-r1)
#6 2.632 (48/83) Installing libunistring (0.9.10-r0)
#6 2.749 (49/83) Installing gnutls (3.7.1-r1)
#6 2.774 (50/83) Installing cups-libs (2.3.3-r2)
#6 2.784 (51/83) Installing jbig2dec (0.19-r0)
#6 2.789 (52/83) Installing libjpeg-turbo (2.1.0-r0)
#6 2.803 (53/83) Installing tiff (4.4.0-r0)
#6 2.811 (54/83) Installing ghostscript (9.53.3-r1)
#6 3.539 (55/83) Installing aom-libs (1.0.0-r1)
#6 3.584 (56/83) Installing libde265 (1.0.4-r0)
#6 3.610 (57/83) Installing x265-libs (3.4-r0)
#6 3.639 (58/83) Installing libheif (1.9.1-r0)
#6 3.650 (59/83) Installing cairo-gobject (1.16.0-r4)
#6 3.654 (60/83) Installing shared-mime-info (2.0-r0)
#6 3.672 (61/83) Installing gdk-pixbuf (2.42.4-r1)
#6 3.683 (62/83) Installing libxft (2.3.3-r0)
#6 3.687 (63/83) Installing fribidi (1.0.10-r0)
#6 3.690 (64/83) Installing graphite2 (1.3.14-r0)
#6 3.695 (65/83) Installing harfbuzz (2.7.4-r1)
#6 3.713 (66/83) Installing pango (1.48.2-r0)
#6 3.735 (67/83) Installing librsvg (2.50.4-r0)
#6 3.828 (68/83) Installing libwebp (1.1.0-r0)
#6 3.850 (69/83) Installing imagemagick (7.0.11.14-r0)
#6 3.919 (70/83) Installing libmnl (1.0.4-r1)
#6 3.921 (71/83) Installing libnftnl-libs (1.1.8-r0)
#6 3.927 (72/83) Installing iptables (1.8.6-r0)
#6 3.960 (73/83) Installing openssl-dev (1.1.1s-r0)
#6 3.984 (74/83) Installing mariadb-connector-c (3.1.11-r0)
#6 4.060 (75/83) Installing mariadb-connector-c-dev (3.1.11-r0)
#6 4.080 (76/83) Installing mariadb-common (10.5.17-r0)
#6 4.108 (77/83) Installing libaio (0.3.112-r1)
#6 4.111 (78/83) Installing pcre2 (10.36-r1)
#6 4.132 (79/83) Installing mariadb-embedded (10.5.17-r0)
#6 4.288 (80/83) Installing mariadb-dev (10.5.17-r0)
#6 4.637 (81/83) Installing mariadb-client (10.5.17-r0)
#6 4.842 (82/83) Installing mysql-client (10.5.17-r0)
#6 4.844 (83/83) Installing tzdata (2022f-r1)
#6 5.041 Executing busybox-1.32.1-r6.trigger
#6 5.047 Executing ca-certificates-20191127-r5.trigger
#6 5.091 Executing fontconfig-2.13.1-r3.trigger
#6 7.104 Executing shared-mime-info-2.0-r0.trigger
#6 ...

#7 [aquarium-development  2/14] RUN apk add --update --no-cache     bash     bind-tools     build-base     ca-certificates     file     git     imagemagick     iptables     libgcrypt-dev     libxml2     libxslt     mariadb-dev     musl>1.2.2-r1     mysql-client     nodejs     nodejs-npm     openjdk8-jre     openssl     shared-mime-info     sqlite-dev     tzdata     wget     yarn
#7 ...

#6 [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system
#6 52.58 Executing gdk-pixbuf-2.42.4-r1.trigger
#6 52.60 OK: 205 MiB in 117 packages
#6 ...

#7 [aquarium-development  2/14] RUN apk add --update --no-cache     bash     bind-tools     build-base     ca-certificates     file     git     imagemagick     iptables     libgcrypt-dev     libxml2     libxslt     mariadb-dev     musl>1.2.2-r1     mysql-client     nodejs     nodejs-npm     openjdk8-jre     openssl     shared-mime-info     sqlite-dev     tzdata     wget     yarn
#7 DONE 72.8s

#8 [aquarium-development  3/14] RUN wget -nv -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub &&     wget -nv https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.30-r0/glibc-2.30-r0.apk &&     apk add glibc-2.30-r0.apk &&     rm /etc/apk/keys/sgerrand.rsa.pub &&     rm glibc-2.30-r0.apk
#8 0.981 2024-08-01 06:21:42 URL:https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub [451/451] -> "/etc/apk/keys/sgerrand.rsa.pub" [1]
#8 1.729 2024-08-01 06:21:43 URL:https://objects.githubusercontent.com/github-production-release-asset-2e65be/33333969/946dab00-c1b4-11e9-987e-da37e3103482?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=releaseassetproduction%2F20240801%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20240801T062143Z&X-Amz-Expires=300&X-Amz-Signature=6ff91e11938eb59c89534fe37fdccc8c01bb437b522f1cea3f6e5f67a280358d&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=33333969&response-content-disposition=attachment%3B%20filename%3Dglibc-2.30-r0.apk&response-content-type=application%2Fvnd.android.package-archive [4408199/4408199] -> "glibc-2.30-r0.apk" [1]
#8 1.744 fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz
#8 1.984 fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz
#8 2.421 (1/1) Installing glibc (2.30-r0)
#8 2.518 OK: 564 MiB in 170 packages
#8 DONE 3.0s

#6 [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system
#6 ...

#9 [aquarium-development  4/14] RUN mkdir /aquarium
#9 DONE 1.0s

#6 [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system
#6 ...

#10 [aquarium-development  5/14] WORKDIR /aquarium
#10 DONE 0.5s

#6 [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system
#6 ...

#11 [aquarium-development  6/14] COPY package.json ./package.json
#11 DONE 0.5s

#6 [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system
#6 ...

#12 [aquarium-development  7/14] COPY yarn.lock ./yarn.lock
#12 DONE 0.4s

#6 [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system
#6 ...

#13 [aquarium-development  8/14] RUN yarn install --modules-folder public/node_modules  && yarn cache clean
#13 1.179 yarn install v1.22.10
#13 1.263 [1/5] Validating package.json...
#13 1.267 [2/5] Resolving packages...
#13 1.357 [3/5] Fetching packages...
#13 7.957 [4/5] Linking dependencies...
#13 7.959 warning " > @bower_components/angular-material@1.1.26" has unmet peer dependency "angular@^1.7.2".
#13 7.959 warning " > @bower_components/angular-material@1.1.26" has unmet peer dependency "angular-animate@^1.7.2".
#13 7.959 warning " > @bower_components/angular-material@1.1.26" has unmet peer dependency "angular-aria@^1.7.2".
#13 7.959 warning " > @bower_components/angular-material@1.1.26" has unmet peer dependency "angular-messages@^1.7.2".
#13 7.959 warning " > @bower_components/jquery-file-upload@10.31.0" has unmet peer dependency "jquery@>=1.7".
#13 7.959 warning " > @bower_components/jquery-ujs@1.2.3" has unmet peer dependency "jquery@>=1.8.0".
#13 9.812 [5/5] Building fresh packages...
#13 9.825 $ node -e "try { require('fs').symlinkSync(require('path').resolve('public/node_modules/@bower_components'), 'public/components', 'junction') } catch (e) { console.log(e) }"
#13 9.925 Done in 8.76s.
#13 10.25 yarn cache v1.22.10
#13 11.12 success Cleared cache.
#13 11.12 Done in 0.88s.
#13 DONE 13.9s

#6 [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system
#6 ...

#14 [aquarium-development  9/14] COPY Gemfile Gemfile.lock ./
#14 DONE 0.6s

#6 [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system
#6 ...

#15 [aquarium-development 10/14] RUN mkdir -p /aquarium/components
#15 DONE 1.0s

#6 [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system
#6 ...

#16 [aquarium-development 11/14] COPY components ./components
#16 DONE 0.7s

#6 [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system
#6 ...

#17 [aquarium-development 12/14] RUN gem update --system  && gem install bundler --version '< 2.0'  && bundle install --jobs 20 --retry 5  && rm -f /usr/local/lib/ruby/gems/2.6.0/specifications/default/json-2.1.0.gemspec
#17 ...

#6 [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system
#6 97.96 ERROR:  Error installing rubygems-update:
#6 97.96 	There are no versions of rubygems-update (= 3.5.16) compatible with your Ruby & RubyGems
#6 97.96 	rubygems-update requires Ruby version >= 3.0.0. The current ruby version is 2.6.7.197.
#6 97.96 ERROR:  While executing gem ... (NoMethodError)
#6 97.96     undefined method `version' for nil:NilClass
#6 98.00 Updating rubygems-update
#6 ERROR: process "/bin/sh -c apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system" did not complete successfully: exit code: 1

#17 [aquarium-development 12/14] RUN gem update --system  && gem install bundler --version '< 2.0'  && bundle install --jobs 20 --retry 5  && rm -f /usr/local/lib/ruby/gems/2.6.0/specifications/default/json-2.1.0.gemspec
#17 CANCELED
------
 > [aquarium 2/5] RUN apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system:
5.091 Executing fontconfig-2.13.1-r3.trigger
7.104 Executing shared-mime-info-2.0-r0.trigger
52.58 Executing gdk-pixbuf-2.42.4-r1.trigger
52.60 OK: 205 MiB in 117 packages
97.96 ERROR:  Error installing rubygems-update:
97.96 	There are no versions of rubygems-update (= 3.5.16) compatible with your Ruby & RubyGems
97.96 	rubygems-update requires Ruby version >= 3.0.0. The current ruby version is 2.6.7.197.
97.96 ERROR:  While executing gem ... (NoMethodError)
97.96     undefined method `version' for nil:NilClass
98.00 Updating rubygems-update
------
Dockerfile:100
--------------------
  99 |     
 100 | >>> RUN apk add --update --no-cache \
 101 | >>>     bind-tools \
 102 | >>>     file \
 103 | >>>     imagemagick \
 104 | >>>     iptables \
 105 | >>>     mariadb-dev \
 106 | >>>     mysql-client \
 107 | >>>     shared-mime-info \
 108 | >>>     tzdata \
 109 | >>>  # make app directory
 110 | >>>  && mkdir /aquarium \
 111 | >>>  # make sure that using the same version of rubygems
 112 | >>>  && gem update --system
 113 |     
--------------------
ERROR: failed to solve: process "/bin/sh -c apk add --update --no-cache     bind-tools     file     imagemagick     iptables     mariadb-dev     mysql-client     shared-mime-info     tzdata  && mkdir /aquarium  && gem update --system" did not complete successfully: exit code: 1
Duration: 1:47.61