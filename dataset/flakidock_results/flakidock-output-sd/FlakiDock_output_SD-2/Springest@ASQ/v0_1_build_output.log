#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile:
#1 transferring dockerfile: 872B done
#1 DONE 0.7s

#2 [internal] load .dockerignore
#2 transferring context: 356B done
#2 DONE 0.8s

#3 [internal] load metadata for docker.io/library/ruby:2.6-alpine
#3 ...

#4 [auth] library/ruby:pull token for registry-1.docker.io
#4 DONE 0.0s

#3 [internal] load metadata for docker.io/library/ruby:2.6-alpine
#3 DONE 1.6s

#5 [internal] load build context
#5 DONE 0.0s

#6 [ 1/11] FROM docker.io/library/ruby:2.6-alpine@sha256:382ce92de42ef027bf1bfe382c3f3c3878042c41c07da8b8aa41855db0894762
#6 resolve docker.io/library/ruby:2.6-alpine@sha256:382ce92de42ef027bf1bfe382c3f3c3878042c41c07da8b8aa41855db0894762
#6 resolve docker.io/library/ruby:2.6-alpine@sha256:382ce92de42ef027bf1bfe382c3f3c3878042c41c07da8b8aa41855db0894762 0.2s done
#6 sha256:382ce92de42ef027bf1bfe382c3f3c3878042c41c07da8b8aa41855db0894762 1.65kB / 1.65kB done
#6 sha256:9bfe9f8689cf57f5ff4a333a91f01bceb92a73e352912ddb36bf75a2d204a4ed 1.36kB / 1.36kB done
#6 sha256:2254a013410a3f972c30a5a7daaa62816eaba9300d2cdc7f045c56ca2531b7db 6.29kB / 6.29kB done
#6 sha256:df9b9388f04ad6279a7410b85cedfdcb2208c0a003da7ab5613af71079148139 0B / 2.81MB 0.2s
#6 sha256:df9b9388f04ad6279a7410b85cedfdcb2208c0a003da7ab5613af71079148139 2.81MB / 2.81MB 0.3s
#6 sha256:c7850f1a8c234d7e3e08596122f1e1bbb5a2b2abedb7d91bb3017697821fe168 0B / 225B 0.3s
#6 ...

#5 [internal] load build context
#5 transferring context: 695.21kB 0.0s done
#5 DONE 0.5s

#6 [ 1/11] FROM docker.io/library/ruby:2.6-alpine@sha256:382ce92de42ef027bf1bfe382c3f3c3878042c41c07da8b8aa41855db0894762
#6 sha256:837e9cfc7e430bf6c3aa43a0b8a8e3d11115abb5b84d75783752c38e06145e85 0B / 3.68MB 0.4s
#6 sha256:c7850f1a8c234d7e3e08596122f1e1bbb5a2b2abedb7d91bb3017697821fe168 225B / 225B 0.5s
#6 extracting sha256:df9b9388f04ad6279a7410b85cedfdcb2208c0a003da7ab5613af71079148139
#6 sha256:df9b9388f04ad6279a7410b85cedfdcb2208c0a003da7ab5613af71079148139 2.81MB / 2.81MB 0.5s done
#6 sha256:c7850f1a8c234d7e3e08596122f1e1bbb5a2b2abedb7d91bb3017697821fe168 225B / 225B 0.5s done
#6 sha256:837e9cfc7e430bf6c3aa43a0b8a8e3d11115abb5b84d75783752c38e06145e85 3.68MB / 3.68MB 0.6s
#6 sha256:b303053af85043500e6a7c79724719d71c2d834b81edbd6cf3914d100a2ecba5 0B / 19.46MB 0.7s
#6 sha256:f3d5bf52dffae418e9dd73f50a8c60b29a59d77dbec562507e1480221e0d2c75 0B / 172B 0.7s
#6 sha256:837e9cfc7e430bf6c3aa43a0b8a8e3d11115abb5b84d75783752c38e06145e85 3.68MB / 3.68MB 0.8s done
#6 extracting sha256:df9b9388f04ad6279a7410b85cedfdcb2208c0a003da7ab5613af71079148139 0.2s done
#6 sha256:b303053af85043500e6a7c79724719d71c2d834b81edbd6cf3914d100a2ecba5 11.53MB / 19.46MB 0.9s
#6 sha256:f3d5bf52dffae418e9dd73f50a8c60b29a59d77dbec562507e1480221e0d2c75 172B / 172B 0.9s
#6 sha256:b303053af85043500e6a7c79724719d71c2d834b81edbd6cf3914d100a2ecba5 19.46MB / 19.46MB 1.0s
#6 sha256:f3d5bf52dffae418e9dd73f50a8c60b29a59d77dbec562507e1480221e0d2c75 172B / 172B 0.9s done
#6 extracting sha256:837e9cfc7e430bf6c3aa43a0b8a8e3d11115abb5b84d75783752c38e06145e85
#6 sha256:b303053af85043500e6a7c79724719d71c2d834b81edbd6cf3914d100a2ecba5 19.46MB / 19.46MB 1.3s done
#6 extracting sha256:837e9cfc7e430bf6c3aa43a0b8a8e3d11115abb5b84d75783752c38e06145e85 0.4s done
#6 extracting sha256:c7850f1a8c234d7e3e08596122f1e1bbb5a2b2abedb7d91bb3017697821fe168
#6 extracting sha256:c7850f1a8c234d7e3e08596122f1e1bbb5a2b2abedb7d91bb3017697821fe168 done
#6 extracting sha256:b303053af85043500e6a7c79724719d71c2d834b81edbd6cf3914d100a2ecba5
#6 extracting sha256:b303053af85043500e6a7c79724719d71c2d834b81edbd6cf3914d100a2ecba5 0.8s done
#6 extracting sha256:f3d5bf52dffae418e9dd73f50a8c60b29a59d77dbec562507e1480221e0d2c75
#6 extracting sha256:f3d5bf52dffae418e9dd73f50a8c60b29a59d77dbec562507e1480221e0d2c75 done
#6 DONE 4.7s

#7 [ 2/11] RUN apk --update add postgresql-client libstdc++
#7 0.538 fetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz
#7 0.781 fetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz
#7 1.175 (1/3) Installing postgresql-common (1.1-r1)
#7 1.178 Executing postgresql-common-1.1-r1.pre-install
#7 1.321 (2/3) Installing libpq (14.10-r0)
#7 1.329 (3/3) Installing postgresql14-client (14.10-r0)
#7 1.659 Executing busybox-1.34.1-r5.trigger
#7 1.664 Executing postgresql-common-1.1-r1.trigger
#7 1.668 * Setting postgresql14 as the default version
#7 2.023 OK: 23 MiB in 39 packages
#7 DONE 4.3s

#8 [ 3/11] RUN gem update --system --no-document
#8 89.69 ERROR:  Error installing rubygems-update:
#8 89.69 	There are no versions of rubygems-update (= 3.5.16) compatible with your Ruby & RubyGems
#8 89.69 	rubygems-update requires Ruby version >= 3.0.0. The current ruby version is 2.6.10.210.
#8 89.69 ERROR:  While executing gem ... (NoMethodError)
#8 89.69     undefined method `version' for nil:NilClass
#8 90.33 Updating rubygems-update
#8 ERROR: process "/bin/sh -c gem update --system --no-document" did not complete successfully: exit code: 1
------
 > [ 3/11] RUN gem update --system --no-document:
89.69 ERROR:  Error installing rubygems-update:
89.69 	There are no versions of rubygems-update (= 3.5.16) compatible with your Ruby & RubyGems
89.69 	rubygems-update requires Ruby version >= 3.0.0. The current ruby version is 2.6.10.210.
89.69 ERROR:  While executing gem ... (NoMethodError)
89.69     undefined method `version' for nil:NilClass
90.33 Updating rubygems-update
------
Dockerfile:22
--------------------
  20 |     
  21 |     # Rubygems and bundler
  22 | >>> RUN gem update --system --no-document
  23 |     RUN gem install bundler --no-document
  24 |     
--------------------
ERROR: failed to solve: process "/bin/sh -c gem update --system --no-document" did not complete successfully: exit code: 1
Duration: 1:42.61