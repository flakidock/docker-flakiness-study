#0 building with "default" instance using docker driver

#1 [internal] load build definition from v1_Dockerfile
#1 ...

#2 [internal] load .dockerignore
#2 transferring context: 85B done
#2 DONE 0.4s

#1 [internal] load build definition from v1_Dockerfile
#1 transferring dockerfile: 505B done
#1 DONE 0.4s

#3 [internal] load metadata for docker.io/library/node:lts-alpine
#3 ...

#4 [internal] load metadata for docker.io/library/alpine:3
#4 DONE 1.1s

#3 [internal] load metadata for docker.io/library/node:lts-alpine
#3 DONE 1.2s

#5 [internal] load build context
#5 DONE 0.0s

#6 [stage-1 1/5] FROM docker.io/library/alpine:3@sha256:0a4eaa0eecf5f8c050e5bba433f58c052be7587ee8af3e8b3910ef9ab5fbe9f5
#6 resolve docker.io/library/alpine:3@sha256:0a4eaa0eecf5f8c050e5bba433f58c052be7587ee8af3e8b3910ef9ab5fbe9f5
#6 resolve docker.io/library/alpine:3@sha256:0a4eaa0eecf5f8c050e5bba433f58c052be7587ee8af3e8b3910ef9ab5fbe9f5 0.4s done
#6 sha256:0a4eaa0eecf5f8c050e5bba433f58c052be7587ee8af3e8b3910ef9ab5fbe9f5 1.85kB / 1.85kB done
#6 sha256:eddacbc7e24bf8799a4ed3cdcfa50d4b88a323695ad80f317b6629883b2c2a78 528B / 528B done
#6 sha256:324bc02ae1231fd9255658c128086395d3fa0aedd5a41ab6b034fd649d1a9260 1.47kB / 1.47kB done
#6 ...

#5 [internal] load build context
#5 transferring context: 302.11kB done
#5 DONE 0.5s

#7 [builder 1/4] FROM docker.io/library/node:lts-alpine@sha256:eb8101caae9ac02229bd64c024919fe3d4504ff7f329da79ca60a04db08cef52
#7 resolve docker.io/library/node:lts-alpine@sha256:eb8101caae9ac02229bd64c024919fe3d4504ff7f329da79ca60a04db08cef52 0.3s done
#7 sha256:eb8101caae9ac02229bd64c024919fe3d4504ff7f329da79ca60a04db08cef52 7.67kB / 7.67kB done
#7 sha256:375518d70893d14665b99393079e77bd4947884f123a66ade28744eb8340d229 1.72kB / 1.72kB done
#7 sha256:e2997a3fdff8b88aee369a7de727d89bff21c0e2927d7c0487dbbaab6eaf8f14 6.38kB / 6.38kB done
#7 sha256:d9aac50bc34e2a0199701ebddca85c36acd90c4d1ad915ca0849364c41547d70 5.24MB / 42.24MB 0.4s
#7 sha256:c0ce3bd8f30377d0ed394d1177e5009ffc3f6907a980562779583174e8b04acc 0B / 446B 0.4s
#7 sha256:d9aac50bc34e2a0199701ebddca85c36acd90c4d1ad915ca0849364c41547d70 10.49MB / 42.24MB 0.5s
#7 sha256:c0ce3bd8f30377d0ed394d1177e5009ffc3f6907a980562779583174e8b04acc 446B / 446B 0.5s done
#7 sha256:0150f131fd2fb613a281e43d320d5772ad190446bcbb177a28f53838f53fdd3c 0B / 1.39MB 0.5s
#7 ...

#6 [stage-1 1/5] FROM docker.io/library/alpine:3@sha256:0a4eaa0eecf5f8c050e5bba433f58c052be7587ee8af3e8b3910ef9ab5fbe9f5
#6 DONE 1.1s

#7 [builder 1/4] FROM docker.io/library/node:lts-alpine@sha256:eb8101caae9ac02229bd64c024919fe3d4504ff7f329da79ca60a04db08cef52
#7 sha256:d9aac50bc34e2a0199701ebddca85c36acd90c4d1ad915ca0849364c41547d70 24.12MB / 42.24MB 0.7s
#7 sha256:0150f131fd2fb613a281e43d320d5772ad190446bcbb177a28f53838f53fdd3c 1.39MB / 1.39MB 0.7s done
#7 sha256:d9aac50bc34e2a0199701ebddca85c36acd90c4d1ad915ca0849364c41547d70 28.31MB / 42.24MB 0.9s
#7 sha256:d9aac50bc34e2a0199701ebddca85c36acd90c4d1ad915ca0849364c41547d70 35.65MB / 42.24MB 1.1s
#7 sha256:d9aac50bc34e2a0199701ebddca85c36acd90c4d1ad915ca0849364c41547d70 38.80MB / 42.24MB 1.3s
#7 sha256:d9aac50bc34e2a0199701ebddca85c36acd90c4d1ad915ca0849364c41547d70 42.24MB / 42.24MB 1.4s
#7 sha256:d9aac50bc34e2a0199701ebddca85c36acd90c4d1ad915ca0849364c41547d70 42.24MB / 42.24MB 2.0s done
#7 extracting sha256:d9aac50bc34e2a0199701ebddca85c36acd90c4d1ad915ca0849364c41547d70 0.1s
#7 extracting sha256:d9aac50bc34e2a0199701ebddca85c36acd90c4d1ad915ca0849364c41547d70 2.6s done
#7 extracting sha256:0150f131fd2fb613a281e43d320d5772ad190446bcbb177a28f53838f53fdd3c
#7 extracting sha256:0150f131fd2fb613a281e43d320d5772ad190446bcbb177a28f53838f53fdd3c 0.2s done
#7 extracting sha256:c0ce3bd8f30377d0ed394d1177e5009ffc3f6907a980562779583174e8b04acc
#7 extracting sha256:c0ce3bd8f30377d0ed394d1177e5009ffc3f6907a980562779583174e8b04acc done
#7 DONE 6.4s

#8 [builder 2/4] COPY . /app
#8 DONE 2.5s

#9 [builder 3/4] WORKDIR /app
#9 DONE 0.3s

#10 [builder 4/4] RUN npm audit fix && npm i && npm run build
#10 7.583 npm warn deprecated popper.js@1.16.1: You can find the new Popper v2 at @popperjs/core, this package is dedicated to the legacy v1
#10 9.105 
#10 9.105 added 129 packages, and audited 130 packages in 8s
#10 9.105 
#10 9.105 29 packages are looking for funding
#10 9.105   run `npm fund` for details
#10 9.107 
#10 9.107 found 0 vulnerabilities
#10 9.109 npm notice
#10 9.109 npm notice New patch version of npm available! 10.8.1 -> 10.8.2
#10 9.109 npm notice Changelog: https://github.com/npm/cli/releases/tag/v10.8.2
#10 9.109 npm notice To update run: npm install -g npm@10.8.2
#10 9.109 npm notice
#10 10.20 
#10 10.20 up to date, audited 130 packages in 957ms
#10 10.20 
#10 10.20 29 packages are looking for funding
#10 10.20   run `npm fund` for details
#10 10.20 
#10 10.20 found 0 vulnerabilities
#10 10.43 
#10 10.43 > ldap-ui@0.2.0 build
#10 10.43 > vite build
#10 10.43 
#10 10.88 vite v4.5.3 building for production...
#10 11.02 transforming...
#10 16.21 ✓ 351 modules transformed.
#10 16.80 rendering chunks...
#10 16.82 computing gzip size...
#10 16.84 dist/index.html                                   0.79 kB │ gzip:   0.44 kB
#10 16.84 dist/assets/fontawesome-webfont-2adefcbc.woff2   77.16 kB
#10 16.85 dist/assets/fontawesome-webfont-ba0c59de.woff    98.02 kB
#10 16.85 dist/assets/fontawesome-webfont-aa58f33f.ttf    165.55 kB
#10 16.85 dist/assets/fontawesome-webfont-7bfcab6d.eot    165.74 kB
#10 16.85 dist/assets/fontawesome-webfont-ad615792.svg    444.38 kB │ gzip: 134.19 kB
#10 16.85 dist/assets/index-3bda697a.css                  269.85 kB │ gzip:  42.17 kB
#10 16.85 dist/assets/index-102b0c84.js                   572.12 kB │ gzip: 156.35 kB
#10 16.85 ✓ built in 5.96s
#10 16.88 
#10 16.88 ✨ [vite-plugin-compression]:algorithm=gzip - compressed file successfully: 
#10 16.88 dist//app/assets/index-3bda697a.css.gz   264.85kb / gzip: 40.96kb
#10 16.88 dist//app/assets/index-102b0c84.js.gz    558.78kb / gzip: 152.27kb
#10 16.88 
#10 16.88 
#10 DONE 21.0s

#11 [stage-1 2/5] COPY --from=builder /app/dist /app/dist
#11 DONE 0.3s

#12 [stage-1 3/5] RUN apk add --no-cache python3 py3-pip py3-pyldap py3-pytoml     && pip3 install 'python-dotenv==0.19.*'         'Hypercorn==0.13.*' 'Jinja2<3.1.0' 'Quart==0.16.*'
#12 0.552 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/main/x86_64/APKINDEX.tar.gz
#12 0.790 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/community/x86_64/APKINDEX.tar.gz
#12 1.280 (1/35) Installing libbz2 (1.0.8-r6)
#12 1.284 (2/35) Installing libexpat (2.6.2-r0)
#12 1.289 (3/35) Installing libffi (3.4.6-r0)
#12 1.292 (4/35) Installing gdbm (1.23-r1)
#12 1.313 (5/35) Installing xz-libs (5.6.1-r3)
#12 1.323 (6/35) Installing libgcc (13.2.1_git20240309-r0)
#12 1.327 (7/35) Installing libstdc++ (13.2.1_git20240309-r0)
#12 1.355 (8/35) Installing mpdecimal (4.0.0-r0)
#12 1.359 (9/35) Installing ncurses-terminfo-base (6.4_p20240420-r0)
#12 1.389 (10/35) Installing libncursesw (6.4_p20240420-r0)
#12 1.397 (11/35) Installing libpanelw (6.4_p20240420-r0)
#12 1.401 (12/35) Installing readline (8.2.10-r0)
#12 1.407 (13/35) Installing sqlite-libs (3.45.3-r1)
#12 1.431 (14/35) Installing python3 (3.12.3-r1)
#12 1.737 (15/35) Installing python3-pycache-pyc0 (3.12.3-r1)
#12 1.978 (16/35) Installing pyc (3.12.3-r1)
#12 1.981 (17/35) Installing py3-setuptools-pyc (69.5.1-r0)
#12 2.107 (18/35) Installing py3-pip-pyc (24.0-r2)
#12 2.340 (19/35) Installing py3-parsing (3.1.2-r1)
#12 2.347 (20/35) Installing py3-parsing-pyc (3.1.2-r1)
#12 2.374 (21/35) Installing py3-packaging-pyc (24.0-r1)
#12 2.380 (22/35) Installing python3-pyc (3.12.3-r1)
#12 2.382 (23/35) Installing py3-packaging (24.0-r1)
#12 2.399 (24/35) Installing py3-setuptools (69.5.1-r0)
#12 2.493 (25/35) Installing py3-pip (24.0-r2)
#12 2.701 (26/35) Installing py3-asn1 (0.6.0-r1)
#12 2.901 (27/35) Installing py3-asn1-pyc (0.6.0-r1)
#12 3.254 (28/35) Installing py3-asn1-modules (0.4.0-r0)
#12 3.435 (29/35) Installing py3-asn1-modules-pyc (0.4.0-r0)
#12 3.673 (30/35) Installing libsasl (2.1.28-r6)
#12 3.686 (31/35) Installing libldap (2.6.7-r0)
#12 3.695 (32/35) Installing py3-ldap (3.4.4-r1)
#12 4.479 (33/35) Installing py3-ldap-pyc (3.4.4-r1)
#12 4.680 (34/35) Installing py3-pytoml (0.1.21-r7)
#12 4.839 (35/35) Installing py3-pytoml-pyc (0.1.21-r7)
#12 5.008 Executing busybox-1.36.1-r29.trigger
#12 5.015 OK: 81 MiB in 49 packages
#12 6.872 error: externally-managed-environment
#12 6.872 
#12 6.872 × This environment is externally managed
#12 6.872 ╰─> 
#12 6.872     The system-wide python installation should be maintained using the system
#12 6.872     package manager (apk) only.
#12 6.872     
#12 6.872     If the package in question is not packaged already (and hence installable via
#12 6.872     "apk add py3-somepackage"), please consider installing it inside a virtual
#12 6.872     environment, e.g.:
#12 6.872     
#12 6.872     python3 -m venv /path/to/venv
#12 6.872     . /path/to/venv/bin/activate
#12 6.872     pip install mypackage
#12 6.872     
#12 6.872     To exit the virtual environment, run:
#12 6.872     
#12 6.872     deactivate
#12 6.872     
#12 6.872     The virtual environment is not deleted, and can be re-entered by re-sourcing
#12 6.872     the activate file.
#12 6.872     
#12 6.872     To automatically manage virtual environments, consider using pipx (from the
#12 6.872     pipx package).
#12 6.872 
#12 6.872 note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
#12 6.872 hint: See PEP 668 for the detailed specification.
#12 ERROR: process "/bin/sh -c apk add --no-cache python3 py3-pip py3-pyldap py3-pytoml     && pip3 install 'python-dotenv==0.19.*'         'Hypercorn==0.13.*' 'Jinja2<3.1.0' 'Quart==0.16.*'" did not complete successfully: exit code: 1
------
 > [stage-1 3/5] RUN apk add --no-cache python3 py3-pip py3-pyldap py3-pytoml     && pip3 install 'python-dotenv==0.19.*'         'Hypercorn==0.13.*' 'Jinja2<3.1.0' 'Quart==0.16.*':
6.872     deactivate
6.872     
6.872     The virtual environment is not deleted, and can be re-entered by re-sourcing
6.872     the activate file.
6.872     
6.872     To automatically manage virtual environments, consider using pipx (from the
6.872     pipx package).
6.872 
6.872 note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
6.872 hint: See PEP 668 for the detailed specification.
------
v1_Dockerfile:8
--------------------
   7 |     COPY --from=builder /app/dist /app/dist
   8 | >>> RUN apk add --no-cache python3 py3-pip py3-pyldap py3-pytoml \
   9 | >>>     && pip3 install 'python-dotenv==0.19.*' \
  10 | >>>         'Hypercorn==0.13.*' 'Jinja2<3.1.0' 'Quart==0.16.*'
  11 |     COPY app.py settings.py /app
--------------------
ERROR: failed to solve: process "/bin/sh -c apk add --no-cache python3 py3-pip py3-pyldap py3-pytoml     && pip3 install 'python-dotenv==0.19.*'         'Hypercorn==0.13.*' 'Jinja2<3.1.0' 'Quart==0.16.*'" did not complete successfully: exit code: 1
Duration: 0:41.44