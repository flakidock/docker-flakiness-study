#0 building with "default" instance using docker driver

#1 [internal] load build definition from v1_Dockerfile
#1 transferring dockerfile:
#1 transferring dockerfile: 425B done
#1 ...

#2 [internal] load .dockerignore
#2 transferring context: 70B done
#2 DONE 0.5s

#1 [internal] load build definition from v1_Dockerfile
#1 DONE 0.6s

#3 [internal] load metadata for docker.io/library/ruby:2.6
#3 DONE 1.2s

#4 [1/7] FROM docker.io/library/ruby:2.6@sha256:a79c8ddb7f3d3748427e2d3a45dcae6d42f1d80d9ae3b98959b3a27b220bf434
#4 resolve docker.io/library/ruby:2.6@sha256:a79c8ddb7f3d3748427e2d3a45dcae6d42f1d80d9ae3b98959b3a27b220bf434
#4 resolve docker.io/library/ruby:2.6@sha256:a79c8ddb7f3d3748427e2d3a45dcae6d42f1d80d9ae3b98959b3a27b220bf434 0.2s done
#4 sha256:771a810704167e55da8a19970c5dfa6eb795dfee32547adffa29ea72703f7243 2.00kB / 2.00kB done
#4 sha256:b71cca836fff8e4f14f8575e25a157f3e253bcd1a039432f4980728c846603f7 7.29kB / 7.29kB done
#4 sha256:a79c8ddb7f3d3748427e2d3a45dcae6d42f1d80d9ae3b98959b3a27b220bf434 1.86kB / 1.86kB done
#4 DONE 2.6s

#5 [2/7] RUN apt-get update -y && apt-get install -y     rake rubygems ruby-sqlite3 libxslt-dev libxml2-dev libsqlite3-dev swig flex bison     && rm -rf /var/lib/apt/lists/* &&     gem update --system -v 3.2.3 && gem update
#5 0.731 Get:1 http://deb.debian.org/debian bullseye InRelease [116 kB]
#5 0.731 Get:2 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]
#5 0.760 Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]
#5 0.897 Get:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [280 kB]
#5 1.037 Get:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8067 kB]
#5 1.169 Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [18.8 kB]
#5 ...

#6 [internal] load build context
#6 transferring context: 112.34MB 4.5s done
#6 DONE 5.0s

#5 [2/7] RUN apt-get update -y && apt-get install -y     rake rubygems ruby-sqlite3 libxslt-dev libxml2-dev libsqlite3-dev swig flex bison     && rm -rf /var/lib/apt/lists/* &&     gem update --system -v 3.2.3 && gem update
#5 2.441 Fetched 8574 kB in 2s (4928 kB/s)
#5 2.441 Reading package lists...
#5 3.091 Reading package lists...
#5 3.704 Building dependency tree...
#5 3.819 Reading state information...
#5 3.941 libsqlite3-dev is already the newest version (3.34.1-3).
#5 3.941 The following additional packages will be installed:
#5 3.941   fonts-lato javascript-common libfl-dev libfl2 libjs-jquery libruby2.7
#5 3.941   libxml2 libxslt1.1 ruby-minitest ruby-net-telnet ruby-power-assert
#5 3.941   ruby-rubygems ruby-test-unit ruby-xmlrpc ruby2.7 rubygems-integration
#5 3.941   sqlite3 swig4.0 zip
#5 3.942 Suggested packages:
#5 3.942   bison-doc build-essential flex-doc apache2 | lighttpd | httpd ri ruby-dev
#5 3.942   bundler sqlite3-doc swig-doc swig-examples swig4.0-examples swig4.0-doc
#5 4.122 The following NEW packages will be installed:
#5 4.123   bison flex fonts-lato javascript-common libfl-dev libfl2 libjs-jquery
#5 4.123   libruby2.7 rake ruby ruby-minitest ruby-net-telnet ruby-power-assert
#5 4.123   ruby-rubygems ruby-sqlite3 ruby-test-unit ruby-xmlrpc ruby2.7
#5 4.123   rubygems-integration sqlite3 swig swig4.0 zip
#5 4.124 The following packages will be upgraded:
#5 4.124   libxml2 libxml2-dev libxslt1-dev libxslt1.1
#5 4.162 4 upgraded, 23 newly installed, 0 to remove and 150 not upgraded.
#5 4.162 Need to get 15.5 MB of archives.
#5 4.162 After this operation, 48.3 MB of additional disk space will be used.
#5 4.162 Get:1 http://deb.debian.org/debian bullseye/main amd64 flex amd64 2.6.4-8 [440 kB]
#5 4.206 Get:2 http://deb.debian.org/debian bullseye/main amd64 fonts-lato all 2.0-2.1 [2696 kB]
#5 4.263 Get:3 http://deb.debian.org/debian bullseye/main amd64 bison amd64 2:3.7.5+dfsg-1 [1104 kB]
#5 4.272 Get:4 http://deb.debian.org/debian bullseye/main amd64 javascript-common all 11+nmu1 [6260 B]
#5 4.272 Get:5 http://deb.debian.org/debian bullseye/main amd64 libfl2 amd64 2.6.4-8 [103 kB]
#5 4.273 Get:6 http://deb.debian.org/debian bullseye/main amd64 libfl-dev amd64 2.6.4-8 [104 kB]
#5 4.274 Get:7 http://deb.debian.org/debian bullseye/main amd64 libjs-jquery all 3.5.1+dfsg+~3.5.5-7 [315 kB]
#5 4.277 Get:8 http://deb.debian.org/debian bullseye/main amd64 rubygems-integration all 1.18 [6704 B]
#5 4.277 Get:9 http://deb.debian.org/debian bullseye/main amd64 ruby2.7 amd64 2.7.4-1+deb11u1 [747 kB]
#5 4.283 Get:10 http://deb.debian.org/debian bullseye/main amd64 ruby-rubygems all 3.2.5-2 [281 kB]
#5 4.286 Get:11 http://deb.debian.org/debian bullseye/main amd64 ruby amd64 1:2.7+2 [11.7 kB]
#5 4.286 Get:12 http://deb.debian.org/debian bullseye/main amd64 rake all 13.0.3-1 [84.7 kB]
#5 4.287 Get:13 http://deb.debian.org/debian bullseye/main amd64 ruby-minitest all 5.13.0-1 [57.3 kB]
#5 4.288 Get:14 http://deb.debian.org/debian bullseye/main amd64 ruby-net-telnet all 0.1.1-2 [12.5 kB]
#5 4.294 Get:15 http://deb.debian.org/debian bullseye/main amd64 ruby-power-assert all 1.1.7-2 [11.5 kB]
#5 4.294 Get:16 http://deb.debian.org/debian bullseye/main amd64 ruby-test-unit all 3.3.9-1 [86.1 kB]
#5 4.297 Get:17 http://deb.debian.org/debian bullseye/main amd64 ruby-xmlrpc all 0.3.0-2 [23.7 kB]
#5 4.298 Get:18 http://deb.debian.org/debian bullseye/main amd64 libruby2.7 amd64 2.7.4-1+deb11u1 [4202 kB]
#5 4.350 Get:19 http://deb.debian.org/debian bullseye/main amd64 libxml2-dev amd64 2.9.10+dfsg-6.7+deb11u4 [790 kB]
#5 4.357 Get:20 http://deb.debian.org/debian bullseye/main amd64 libxml2 amd64 2.9.10+dfsg-6.7+deb11u4 [693 kB]
#5 4.363 Get:21 http://deb.debian.org/debian bullseye/main amd64 libxslt1-dev amd64 1.1.34-4+deb11u1 [329 kB]
#5 4.366 Get:22 http://deb.debian.org/debian bullseye/main amd64 libxslt1.1 amd64 1.1.34-4+deb11u1 [240 kB]
#5 4.369 Get:23 http://deb.debian.org/debian bullseye/main amd64 ruby-sqlite3 amd64 1.4.2-3 [44.4 kB]
#5 4.369 Get:24 http://deb.debian.org/debian bullseye/main amd64 sqlite3 amd64 3.34.1-3 [1201 kB]
#5 4.380 Get:25 http://deb.debian.org/debian bullseye/main amd64 swig4.0 amd64 4.0.2-1 [1377 kB]
#5 4.391 Get:26 http://deb.debian.org/debian bullseye/main amd64 swig all 4.0.2-1 [330 kB]
#5 4.393 Get:27 http://deb.debian.org/debian bullseye/main amd64 zip amd64 3.0-12 [232 kB]
#5 4.642 debconf: delaying package configuration, since apt-utils is not installed
#5 4.726 Fetched 15.5 MB in 0s (58.4 MB/s)
#5 4.846 Selecting previously unselected package flex.
#5 4.846 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 22741 files and directories currently installed.)
#5 4.860 Preparing to unpack .../00-flex_2.6.4-8_amd64.deb ...
#5 4.883 Unpacking flex (2.6.4-8) ...
#5 5.180 Selecting previously unselected package fonts-lato.
#5 5.180 Preparing to unpack .../01-fonts-lato_2.0-2.1_all.deb ...
#5 5.202 Unpacking fonts-lato (2.0-2.1) ...
#5 5.740 Selecting previously unselected package bison.
#5 5.740 Preparing to unpack .../02-bison_2%3a3.7.5+dfsg-1_amd64.deb ...
#5 5.765 Unpacking bison (2:3.7.5+dfsg-1) ...
#5 6.237 Selecting previously unselected package javascript-common.
#5 6.237 Preparing to unpack .../03-javascript-common_11+nmu1_all.deb ...
#5 6.279 Unpacking javascript-common (11+nmu1) ...
#5 6.514 Selecting previously unselected package libfl2:amd64.
#5 6.514 Preparing to unpack .../04-libfl2_2.6.4-8_amd64.deb ...
#5 6.578 Unpacking libfl2:amd64 (2.6.4-8) ...
#5 6.757 Selecting previously unselected package libfl-dev:amd64.
#5 6.757 Preparing to unpack .../05-libfl-dev_2.6.4-8_amd64.deb ...
#5 6.779 Unpacking libfl-dev:amd64 (2.6.4-8) ...
#5 7.108 Selecting previously unselected package libjs-jquery.
#5 7.108 Preparing to unpack .../06-libjs-jquery_3.5.1+dfsg+~3.5.5-7_all.deb ...
#5 7.137 Unpacking libjs-jquery (3.5.1+dfsg+~3.5.5-7) ...
#5 7.334 Selecting previously unselected package rubygems-integration.
#5 7.334 Preparing to unpack .../07-rubygems-integration_1.18_all.deb ...
#5 7.366 Unpacking rubygems-integration (1.18) ...
#5 7.545 Selecting previously unselected package ruby2.7.
#5 7.545 Preparing to unpack .../08-ruby2.7_2.7.4-1+deb11u1_amd64.deb ...
#5 7.568 Unpacking ruby2.7 (2.7.4-1+deb11u1) ...
#5 7.781 Selecting previously unselected package ruby-rubygems.
#5 7.781 Preparing to unpack .../09-ruby-rubygems_3.2.5-2_all.deb ...
#5 7.803 Unpacking ruby-rubygems (3.2.5-2) ...
#5 8.091 Selecting previously unselected package ruby.
#5 8.091 Preparing to unpack .../10-ruby_1%3a2.7+2_amd64.deb ...
#5 8.126 Unpacking ruby (1:2.7+2) ...
#5 8.276 Selecting previously unselected package rake.
#5 8.276 Preparing to unpack .../11-rake_13.0.3-1_all.deb ...
#5 8.307 Unpacking rake (13.0.3-1) ...
#5 8.503 Selecting previously unselected package ruby-minitest.
#5 8.503 Preparing to unpack .../12-ruby-minitest_5.13.0-1_all.deb ...
#5 8.526 Unpacking ruby-minitest (5.13.0-1) ...
#5 8.714 Selecting previously unselected package ruby-net-telnet.
#5 8.714 Preparing to unpack .../13-ruby-net-telnet_0.1.1-2_all.deb ...
#5 8.745 Unpacking ruby-net-telnet (0.1.1-2) ...
#5 8.924 Selecting previously unselected package ruby-power-assert.
#5 8.924 Preparing to unpack .../14-ruby-power-assert_1.1.7-2_all.deb ...
#5 8.955 Unpacking ruby-power-assert (1.1.7-2) ...
#5 9.142 Selecting previously unselected package ruby-test-unit.
#5 9.142 Preparing to unpack .../15-ruby-test-unit_3.3.9-1_all.deb ...
#5 9.173 Unpacking ruby-test-unit (3.3.9-1) ...
#5 9.386 Selecting previously unselected package ruby-xmlrpc.
#5 9.386 Preparing to unpack .../16-ruby-xmlrpc_0.3.0-2_all.deb ...
#5 9.417 Unpacking ruby-xmlrpc (0.3.0-2) ...
#5 9.671 Selecting previously unselected package libruby2.7:amd64.
#5 9.671 Preparing to unpack .../17-libruby2.7_2.7.4-1+deb11u1_amd64.deb ...
#5 9.702 Unpacking libruby2.7:amd64 (2.7.4-1+deb11u1) ...
#5 10.75 Preparing to unpack .../18-libxml2-dev_2.9.10+dfsg-6.7+deb11u4_amd64.deb ...
#5 10.83 Unpacking libxml2-dev:amd64 (2.9.10+dfsg-6.7+deb11u4) over (2.9.10+dfsg-6.7+deb11u1) ...
#5 12.92 Preparing to unpack .../19-libxml2_2.9.10+dfsg-6.7+deb11u4_amd64.deb ...
#5 13.00 Unpacking libxml2:amd64 (2.9.10+dfsg-6.7+deb11u4) over (2.9.10+dfsg-6.7+deb11u1) ...
#5 13.51 Preparing to unpack .../20-libxslt1-dev_1.1.34-4+deb11u1_amd64.deb ...
#5 13.61 Unpacking libxslt1-dev:amd64 (1.1.34-4+deb11u1) over (1.1.34-4) ...
#5 17.80 Preparing to unpack .../21-libxslt1.1_1.1.34-4+deb11u1_amd64.deb ...
#5 17.90 Unpacking libxslt1.1:amd64 (1.1.34-4+deb11u1) over (1.1.34-4) ...
#5 18.40 Selecting previously unselected package ruby-sqlite3.
#5 18.40 Preparing to unpack .../22-ruby-sqlite3_1.4.2-3_amd64.deb ...
#5 18.43 Unpacking ruby-sqlite3 (1.4.2-3) ...
#5 18.62 Selecting previously unselected package sqlite3.
#5 18.62 Preparing to unpack .../23-sqlite3_3.34.1-3_amd64.deb ...
#5 18.65 Unpacking sqlite3 (3.34.1-3) ...
#5 18.93 Selecting previously unselected package swig4.0.
#5 18.93 Preparing to unpack .../24-swig4.0_4.0.2-1_amd64.deb ...
#5 18.95 Unpacking swig4.0 (4.0.2-1) ...
#5 19.51 Selecting previously unselected package swig.
#5 19.51 Preparing to unpack .../25-swig_4.0.2-1_all.deb ...
#5 19.54 Unpacking swig (4.0.2-1) ...
#5 19.72 Selecting previously unselected package zip.
#5 19.72 Preparing to unpack .../26-zip_3.0-12_amd64.deb ...
#5 19.75 Unpacking zip (3.0-12) ...
#5 20.00 Setting up javascript-common (11+nmu1) ...
#5 20.16 Setting up flex (2.6.4-8) ...
#5 20.24 Setting up fonts-lato (2.0-2.1) ...
#5 20.32 Setting up ruby-power-assert (1.1.7-2) ...
#5 20.39 Setting up rubygems-integration (1.18) ...
#5 20.47 Setting up ruby-minitest (5.13.0-1) ...
#5 20.54 Setting up zip (3.0-12) ...
#5 20.62 Setting up ruby-test-unit (3.3.9-1) ...
#5 20.70 Setting up ruby-net-telnet (0.1.1-2) ...
#5 21.39 Setting up libfl2:amd64 (2.6.4-8) ...
#5 21.48 Setting up bison (2:3.7.5+dfsg-1) ...
#5 21.56 update-alternatives: using /usr/bin/bison.yacc to provide /usr/bin/yacc (yacc) in auto mode
#5 21.61 Setting up libjs-jquery (3.5.1+dfsg+~3.5.5-7) ...
#5 21.70 Setting up swig4.0 (4.0.2-1) ...
#5 21.78 Setting up ruby-xmlrpc (0.3.0-2) ...
#5 21.88 Setting up libxml2:amd64 (2.9.10+dfsg-6.7+deb11u4) ...
#5 22.08 Setting up sqlite3 (3.34.1-3) ...
#5 22.17 Setting up swig (4.0.2-1) ...
#5 22.25 Setting up libfl-dev:amd64 (2.6.4-8) ...
#5 22.34 Setting up libxml2-dev:amd64 (2.9.10+dfsg-6.7+deb11u4) ...
#5 22.42 Setting up libxslt1.1:amd64 (1.1.34-4+deb11u1) ...
#5 22.51 Setting up libxslt1-dev:amd64 (1.1.34-4+deb11u1) ...
#5 22.59 Setting up ruby2.7 (2.7.4-1+deb11u1) ...
#5 22.66 Setting up ruby-rubygems (3.2.5-2) ...
#5 22.77 Setting up ruby (1:2.7+2) ...
#5 22.84 Setting up rake (13.0.3-1) ...
#5 22.92 Setting up libruby2.7:amd64 (2.7.4-1+deb11u1) ...
#5 22.99 Setting up ruby-sqlite3 (1.4.2-3) ...
#5 23.08 Processing triggers for fontconfig (2.13.1-4.2) ...
#5 23.25 Processing triggers for libc-bin (2.31-13+deb11u3) ...
#5 23.75 ERROR:  While executing gem ... (OptionParser::AmbiguousOption)
#5 23.75     ambiguous option: -v
#5 ERROR: process "/bin/sh -c apt-get update -y && apt-get install -y     rake rubygems ruby-sqlite3 libxslt-dev libxml2-dev libsqlite3-dev swig flex bison     && rm -rf /var/lib/apt/lists/* &&     gem update --system -v 3.2.3 && gem update" did not complete successfully: exit code: 1
------
 > [2/7] RUN apt-get update -y && apt-get install -y     rake rubygems ruby-sqlite3 libxslt-dev libxml2-dev libsqlite3-dev swig flex bison     && rm -rf /var/lib/apt/lists/* &&     gem update --system -v 3.2.3 && gem update:
22.59 Setting up ruby2.7 (2.7.4-1+deb11u1) ...
22.66 Setting up ruby-rubygems (3.2.5-2) ...
22.77 Setting up ruby (1:2.7+2) ...
22.84 Setting up rake (13.0.3-1) ...
22.92 Setting up libruby2.7:amd64 (2.7.4-1+deb11u1) ...
22.99 Setting up ruby-sqlite3 (1.4.2-3) ...
23.08 Processing triggers for fontconfig (2.13.1-4.2) ...
23.25 Processing triggers for libc-bin (2.31-13+deb11u3) ...
23.75 ERROR:  While executing gem ... (OptionParser::AmbiguousOption)
23.75     ambiguous option: -v
------
v1_Dockerfile:3
--------------------
   2 |     
   3 | >>> RUN apt-get update -y && apt-get install -y \
   4 | >>>     rake rubygems ruby-sqlite3 libxslt-dev libxml2-dev libsqlite3-dev swig flex bison \
   5 | >>>     && rm -rf /var/lib/apt/lists/* && \
   6 | >>>     gem update --system -v 3.2.3 && gem update
   7 |     
--------------------
ERROR: failed to solve: process "/bin/sh -c apt-get update -y && apt-get install -y     rake rubygems ruby-sqlite3 libxslt-dev libxml2-dev libsqlite3-dev swig flex bison     && rm -rf /var/lib/apt/lists/* &&     gem update --system -v 3.2.3 && gem update" did not complete successfully: exit code: 1
Duration: 0:33.89