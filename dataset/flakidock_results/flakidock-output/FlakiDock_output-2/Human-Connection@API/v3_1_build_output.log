#0 building with "default" instance using docker driver

#1 [internal] load .dockerignore
#1 transferring context:
#1 transferring context: 88B done
#1 DONE 0.5s

#2 [internal] load build definition from v3_Dockerfile
#2 transferring dockerfile: 1.25kB done
#2 DONE 0.4s

#3 [internal] load metadata for docker.io/library/node:14-alpine
#3 DONE 1.0s

#4 [ 1/10] FROM docker.io/library/node:14-alpine@sha256:434215b487a329c9e867202ff89e704d3a75e554822e07f3e0c0f9e606121b33
#4 resolve docker.io/library/node:14-alpine@sha256:434215b487a329c9e867202ff89e704d3a75e554822e07f3e0c0f9e606121b33
#4 resolve docker.io/library/node:14-alpine@sha256:434215b487a329c9e867202ff89e704d3a75e554822e07f3e0c0f9e606121b33 0.2s done
#4 sha256:0dac3dc27b1ad570e6c3a7f7cd29e88e7130ff0cad31b2ec5a0f222fbe971bdb 6.44kB / 6.44kB done
#4 ...

#5 [internal] load build context
#5 transferring context: 2.72MB 0.1s done
#5 DONE 0.4s

#4 [ 1/10] FROM docker.io/library/node:14-alpine@sha256:434215b487a329c9e867202ff89e704d3a75e554822e07f3e0c0f9e606121b33
#4 sha256:434215b487a329c9e867202ff89e704d3a75e554822e07f3e0c0f9e606121b33 1.43kB / 1.43kB done
#4 sha256:4e84c956cd276af9ed14a8b2939a734364c2b0042485e90e1b97175e73dfd548 1.16kB / 1.16kB done
#4 sha256:8f665685b215c7daf9164545f1bbdd74d800af77d0d267db31fe0345c0c8fb8b 0B / 37.17MB 0.1s
#4 sha256:f56be85fc22e46face30e2c3de3f7fe7c15f8fd7c4e5add29d7f64b87abdaa09 0B / 3.37MB 0.2s
#4 sha256:8f665685b215c7daf9164545f1bbdd74d800af77d0d267db31fe0345c0c8fb8b 11.53MB / 37.17MB 0.4s
#4 sha256:f56be85fc22e46face30e2c3de3f7fe7c15f8fd7c4e5add29d7f64b87abdaa09 3.37MB / 3.37MB 0.4s
#4 sha256:e5fca6c395a62ec277102af9e5283f6edb43b3e4f20f798e3ce7e425be226ba6 0B / 2.37MB 0.4s
#4 sha256:8f665685b215c7daf9164545f1bbdd74d800af77d0d267db31fe0345c0c8fb8b 18.87MB / 37.17MB 0.5s
#4 sha256:f56be85fc22e46face30e2c3de3f7fe7c15f8fd7c4e5add29d7f64b87abdaa09 3.37MB / 3.37MB 0.5s done
#4 sha256:e5fca6c395a62ec277102af9e5283f6edb43b3e4f20f798e3ce7e425be226ba6 2.37MB / 2.37MB 0.5s
#4 extracting sha256:f56be85fc22e46face30e2c3de3f7fe7c15f8fd7c4e5add29d7f64b87abdaa09 0.1s
#4 sha256:8f665685b215c7daf9164545f1bbdd74d800af77d0d267db31fe0345c0c8fb8b 25.17MB / 37.17MB 0.6s
#4 sha256:e5fca6c395a62ec277102af9e5283f6edb43b3e4f20f798e3ce7e425be226ba6 2.37MB / 2.37MB 0.6s done
#4 sha256:8f665685b215c7daf9164545f1bbdd74d800af77d0d267db31fe0345c0c8fb8b 29.36MB / 37.17MB 0.8s
#4 extracting sha256:f56be85fc22e46face30e2c3de3f7fe7c15f8fd7c4e5add29d7f64b87abdaa09 0.2s done
#4 sha256:561cb69653d56a9725be56e02128e4e96fb434a8b4b4decf2bdeb479a225feaf 0B / 448B 0.7s
#4 sha256:8f665685b215c7daf9164545f1bbdd74d800af77d0d267db31fe0345c0c8fb8b 31.46MB / 37.17MB 0.9s
#4 sha256:561cb69653d56a9725be56e02128e4e96fb434a8b4b4decf2bdeb479a225feaf 448B / 448B 0.8s done
#4 sha256:8f665685b215c7daf9164545f1bbdd74d800af77d0d267db31fe0345c0c8fb8b 37.17MB / 37.17MB 1.1s
#4 sha256:8f665685b215c7daf9164545f1bbdd74d800af77d0d267db31fe0345c0c8fb8b 37.17MB / 37.17MB 1.6s done
#4 extracting sha256:8f665685b215c7daf9164545f1bbdd74d800af77d0d267db31fe0345c0c8fb8b 0.1s
#4 extracting sha256:8f665685b215c7daf9164545f1bbdd74d800af77d0d267db31fe0345c0c8fb8b 2.4s done
#4 extracting sha256:e5fca6c395a62ec277102af9e5283f6edb43b3e4f20f798e3ce7e425be226ba6
#4 extracting sha256:e5fca6c395a62ec277102af9e5283f6edb43b3e4f20f798e3ce7e425be226ba6 0.2s done
#4 extracting sha256:561cb69653d56a9725be56e02128e4e96fb434a8b4b4decf2bdeb479a225feaf
#4 extracting sha256:561cb69653d56a9725be56e02128e4e96fb434a8b4b4decf2bdeb479a225feaf done
#4 DONE 5.9s

#6 [ 2/10] RUN mkdir -p /API
#6 DONE 3.1s

#7 [ 3/10] WORKDIR /API
#7 DONE 0.5s

#8 [ 4/10] RUN apk --no-cache --virtual build-dependencies add python3 make g++
#8 0.629 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#8 1.162 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#8 1.646 (1/26) Upgrading musl (1.2.3-r4 -> 1.2.3-r5)
#8 1.657 (2/26) Installing libexpat (2.6.2-r0)
#8 1.663 (3/26) Installing libbz2 (1.0.8-r4)
#8 1.667 (4/26) Installing libffi (3.4.4-r0)
#8 1.676 (5/26) Installing gdbm (1.23-r0)
#8 1.692 (6/26) Installing xz-libs (5.2.9-r0)
#8 1.702 (7/26) Installing mpdecimal (2.5.1-r1)
#8 1.708 (8/26) Installing ncurses-terminfo-base (6.3_p20221119-r1)
#8 1.736 (9/26) Installing ncurses-libs (6.3_p20221119-r1)
#8 1.745 (10/26) Installing readline (8.2.0-r0)
#8 1.752 (11/26) Installing sqlite-libs (3.40.1-r1)
#8 1.768 (12/26) Installing python3 (3.10.14-r1)
#8 2.544 (13/26) Installing make (4.3-r1)
#8 2.555 (14/26) Installing libstdc++-dev (12.2.1_git20220924-r4)
#8 3.014 (15/26) Installing binutils (2.39-r2)
#8 3.104 (16/26) Installing libgomp (12.2.1_git20220924-r4)
#8 3.111 (17/26) Installing libatomic (12.2.1_git20220924-r4)
#8 3.115 (18/26) Installing gmp (6.2.1-r2)
#8 3.125 (19/26) Installing isl25 (0.25-r1)
#8 3.149 (20/26) Installing mpfr4 (4.1.0-r0)
#8 3.183 (21/26) Installing mpc1 (1.2.1-r1)
#8 3.188 (22/26) Installing gcc (12.2.1_git20220924-r4)
#8 4.358 (23/26) Installing musl-dev (1.2.3-r5)
#8 4.473 (24/26) Installing libc-dev (0.7.2-r3)
#8 4.475 (25/26) Installing g++ (12.2.1_git20220924-r4)
#8 4.815 (26/26) Installing build-dependencies (20240731.002036)
#8 4.817 Executing busybox-1.35.0-r29.trigger
#8 4.825 OK: 287 MiB in 42 packages
#8 DONE 10.1s

#9 [ 5/10] RUN yarn global add pm2
#9 0.946 yarn global v1.22.19
#9 1.028 [1/4] Resolving packages...
#9 2.879 [2/4] Fetching packages...
#9 7.495 [3/4] Linking dependencies...
#9 9.069 [4/4] Building fresh packages...
#9 9.092 success Installed "pm2@5.4.2" with binaries:
#9 9.092       - pm2
#9 9.092       - pm2-dev
#9 9.092       - pm2-docker
#9 9.092       - pm2-runtime
#9 9.096 Done in 8.16s.
#9 DONE 10.9s

#10 [ 6/10] COPY package.json /API
#10 DONE 0.5s

#11 [ 7/10] COPY yarn.lock /API
#11 DONE 0.5s

#12 [ 8/10] RUN yarn install --production=false --frozen-lockfile --non-interactive
#12 0.877 yarn install v1.22.19
#12 1.053 [1/5] Validating package.json...
#12 1.058 [2/5] Resolving packages...
#12 1.985 [3/5] Fetching packages...
#12 25.94 [4/5] Linking dependencies...
#12 25.94 warning " > feathers-mongodb@3.3.0" has unmet peer dependency "mongodb@^3.1.1".
#12 36.87 [5/5] Building fresh packages...
#12 38.51 error /API/node_modules/node-sass: Command failed.
#12 38.51 Exit code: 1
#12 38.51 Command: node scripts/build.js
#12 38.51 Arguments: 
#12 38.51 Directory: /API/node_modules/node-sass
#12 38.51 Output:
#12 38.51 Building: /usr/local/bin/node /API/node_modules/node-gyp/bin/node-gyp.js rebuild --verbose --libsass_ext= --libsass_cflags= --libsass_ldflags= --libsass_library=
#12 38.51 gyp info it worked if it ends with ok
#12 38.51 gyp verb cli [
#12 38.51 gyp verb cli   '/usr/local/bin/node',
#12 38.51 gyp verb cli   '/API/node_modules/node-gyp/bin/node-gyp.js',
#12 38.51 gyp verb cli   'rebuild',
#12 38.51 gyp verb cli   '--verbose',
#12 38.51 gyp verb cli   '--libsass_ext=',
#12 38.51 gyp verb cli   '--libsass_cflags=',
#12 38.51 gyp verb cli   '--libsass_ldflags=',
#12 38.51 gyp verb cli   '--libsass_library='
#12 38.51 gyp verb cli ]
#12 38.51 gyp info using node-gyp@3.7.0
#12 38.51 gyp info using node@14.21.3 | linux | x64
#12 38.51 gyp verb command rebuild []
#12 38.51 gyp verb command clean []
#12 38.51 gyp verb clean removing "build" directory
#12 38.51 gyp verb command configure []
#12 38.51 gyp verb check python checking for Python executable "python2" in the PATH
#12 38.51 gyp verb `which` failed Error: not found: python2
#12 38.51 gyp verb `which` failed     at getNotFoundError (/API/node_modules/which/which.js:13:12)
#12 38.51 gyp verb `which` failed     at F (/API/node_modules/which/which.js:68:19)
#12 38.51 gyp verb `which` failed     at E (/API/node_modules/which/which.js:80:29)
#12 38.51 gyp verb `which` failed     at /API/node_modules/which/which.js:89:16
#12 38.51 gyp verb `which` failed     at /API/node_modules/isexe/index.js:42:5
#12 38.51 gyp verb `which` failed     at /API/node_modules/isexe/mode.js:8:5
#12 38.51 gyp verb `which` failed     at FSReqCallback.oncomplete (fs.js:192:21)
#12 38.51 gyp verb `which` failed  python2 Error: not found: python2
#12 38.51 gyp verb `which` failed     at getNotFoundError (/API/node_modules/which/which.js:13:12)
#12 38.51 gyp verb `which` failed     at F (/API/node_modules/which/which.js:68:19)
#12 38.51 gyp verb `which` failed     at E (/API/node_modules/which/which.js:80:29)
#12 38.51 gyp verb `which` failed     at /API/node_modules/which/which.js:89:16
#12 38.51 gyp verb `which` failed     at /API/node_modules/isexe/index.js:42:5
#12 38.51 gyp verb `which` failed     at /API/node_modules/isexe/mode.js:8:5
#12 38.51 gyp verb `which` failed     at FSReqCallback.oncomplete (fs.js:192:21) {
#12 38.51 gyp verb `which` failed   code: 'ENOENT'
#12 38.51 gyp verb `which` failed }
#12 38.51 gyp verb check python checking for Python executable "python" in the PATH
#12 38.51 gyp verb `which` succeeded python /usr/bin/python
#12 38.51 gyp verb check python version `/usr/bin/python -c "import platform; print(platform.python_version());"` returned: "3.10.14\n"
#12 38.51 gyp ERR! configure error 
#12 38.51 gyp ERR! stack Error: Python executable "/usr/bin/python" is v3.10.14, which is not supported by gyp.
#12 38.51 gyp ERR! stack You can pass the --python switch to point to Python >= v2.5.0 & < 3.0.0.
#12 38.51 gyp ERR! stack     at PythonFinder.failPythonVersion (/API/node_modules/node-gyp/lib/configure.js:501:19)
#12 38.51 gyp ERR! stack     at PythonFinder.<anonymous> (/API/node_modules/node-gyp/lib/configure.js:483:14)
#12 38.51 gyp ERR! stack     at ChildProcess.exithandler (child_process.js:374:7)
#12 38.51 gyp ERR! stack     at ChildProcess.emit (events.js:400:28)
#12 38.51 gyp ERR! stack     at maybeClose (internal/child_process.js:1088:16)
#12 38.51 gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:296:5)
#12 38.51 gyp ERR! System Linux 3.10.0-1160.88.1.el7.x86_64
#12 38.51 gyp ERR! command "/usr/local/bin/node" "/API/node_modules/node-gyp/bin/node-gyp.js" "rebuild" "--verbose" "--libsass_ext=" "--libsass_cflags=" "--libsass_ldflags=" "--libsass_library="
#12 38.51 gyp ERR! cwd /API/node_modules/node-sass
#12 38.51 gyp ERR! node -v v14.21.3
#12 38.51 gyp ERR! node-gyp -v v3.7.0
#12 38.51 gyp ERR! not ok 
#12 38.51 Build failed with error code: 1
#12 38.51 info Visit https://yarnpkg.com/en/docs/cli/install for documentation about this command.
#12 ERROR: process "/bin/sh -c yarn install --production=false --frozen-lockfile --non-interactive" did not complete successfully: exit code: 1
------
 > [ 8/10] RUN yarn install --production=false --frozen-lockfile --non-interactive:
38.51 gyp ERR! stack     at maybeClose (internal/child_process.js:1088:16)
38.51 gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:296:5)
38.51 gyp ERR! System Linux 3.10.0-1160.88.1.el7.x86_64
38.51 gyp ERR! command "/usr/local/bin/node" "/API/node_modules/node-gyp/bin/node-gyp.js" "rebuild" "--verbose" "--libsass_ext=" "--libsass_cflags=" "--libsass_ldflags=" "--libsass_library="
38.51 gyp ERR! cwd /API/node_modules/node-sass
38.51 gyp ERR! node -v v14.21.3
38.51 gyp ERR! node-gyp -v v3.7.0
38.51 gyp ERR! not ok 
38.51 Build failed with error code: 1
38.51 info Visit https://yarnpkg.com/en/docs/cli/install for documentation about this command.
------
v3_Dockerfile:24
--------------------
  22 |     COPY package.json /API
  23 |     COPY yarn.lock /API
  24 | >>> RUN yarn install --production=false --frozen-lockfile --non-interactive
  25 |     
  26 |     RUN apk del build-dependencies
--------------------
ERROR: failed to solve: process "/bin/sh -c yarn install --production=false --frozen-lockfile --non-interactive" did not complete successfully: exit code: 1
Duration: 1:21.05