#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile:
#1 transferring dockerfile: 1.35kB done
#1 DONE 0.5s

#2 [internal] load .dockerignore
#2 transferring context: 2B done
#2 DONE 0.6s

#3 [internal] load metadata for docker.io/library/node:14-alpine
#3 ...

#4 [auth] library/nginx:pull token for registry-1.docker.io
#4 DONE 0.0s

#5 [auth] library/node:pull token for registry-1.docker.io
#5 DONE 0.0s

#6 [internal] load metadata for docker.io/library/nginx:1.14.1-alpine
#6 ...

#3 [internal] load metadata for docker.io/library/node:14-alpine
#3 DONE 1.5s

#6 [internal] load metadata for docker.io/library/nginx:1.14.1-alpine
#6 DONE 1.7s

#7 [internal] load build context
#7 DONE 0.0s

#8 [stage-1 1/4] FROM docker.io/library/nginx:1.14.1-alpine@sha256:3c1380fd5f6f0e4c468a922ed6331831e60cea9db317b8ac4a8ad36335e53bbd
#8 resolve docker.io/library/nginx:1.14.1-alpine@sha256:3c1380fd5f6f0e4c468a922ed6331831e60cea9db317b8ac4a8ad36335e53bbd
#8 resolve docker.io/library/nginx:1.14.1-alpine@sha256:3c1380fd5f6f0e4c468a922ed6331831e60cea9db317b8ac4a8ad36335e53bbd 0.3s done
#8 sha256:9a7bc4c86e7ba9b704597296305b4fb811ccd951682c6d554101559e9239eb2c 1.15kB / 1.15kB done
#8 sha256:3c1380fd5f6f0e4c468a922ed6331831e60cea9db317b8ac4a8ad36335e53bbd 2.04kB / 2.04kB done
#8 sha256:77bae8d0065423e2338884d3698ef5ff9de8dec05a55dc81cf48ae9e78008b3f 8.40kB / 8.40kB done
#8 sha256:4fe2ade4980c2dda4fc95858ebb981489baec8c1e4bd282ab1c3560be8ff9bde 0B / 2.21MB 0.7s
#8 sha256:4fe2ade4980c2dda4fc95858ebb981489baec8c1e4bd282ab1c3560be8ff9bde 2.21MB / 2.21MB 1.0s
#8 sha256:c691664ebb08d34035cbe528036cce874157bfa3c9c7a54aab2d7cbd34c706b9 0B / 5.52MB 1.0s
#8 sha256:c691664ebb08d34035cbe528036cce874157bfa3c9c7a54aab2d7cbd34c706b9 5.52MB / 5.52MB 1.3s
#8 sha256:4fe2ade4980c2dda4fc95858ebb981489baec8c1e4bd282ab1c3560be8ff9bde 2.21MB / 2.21MB 1.7s done
#8 extracting sha256:4fe2ade4980c2dda4fc95858ebb981489baec8c1e4bd282ab1c3560be8ff9bde 0.1s
#8 extracting sha256:4fe2ade4980c2dda4fc95858ebb981489baec8c1e4bd282ab1c3560be8ff9bde 0.2s done
#8 sha256:c691664ebb08d34035cbe528036cce874157bfa3c9c7a54aab2d7cbd34c706b9 5.52MB / 5.52MB 2.0s done
#8 sha256:a6f6a50701b62fea35c5f25874be74c1dea5e2e2e10f3f1d13e0148bca764fa7 494B / 494B 2.6s
#8 sha256:5980ba3b5a393d18c9c37551a35ae230349f88953ada6c5a6e52e602a5102678 0B / 625B 2.6s
#8 extracting sha256:c691664ebb08d34035cbe528036cce874157bfa3c9c7a54aab2d7cbd34c706b9
#8 sha256:a6f6a50701b62fea35c5f25874be74c1dea5e2e2e10f3f1d13e0148bca764fa7 494B / 494B 2.7s done
#8 sha256:5980ba3b5a393d18c9c37551a35ae230349f88953ada6c5a6e52e602a5102678 625B / 625B 2.8s
#8 sha256:5980ba3b5a393d18c9c37551a35ae230349f88953ada6c5a6e52e602a5102678 625B / 625B 2.9s done
#8 extracting sha256:c691664ebb08d34035cbe528036cce874157bfa3c9c7a54aab2d7cbd34c706b9 0.4s done
#8 extracting sha256:a6f6a50701b62fea35c5f25874be74c1dea5e2e2e10f3f1d13e0148bca764fa7
#8 extracting sha256:a6f6a50701b62fea35c5f25874be74c1dea5e2e2e10f3f1d13e0148bca764fa7 done
#8 ...

#7 [internal] load build context
#7 transferring context: 57.35MB 4.4s done
#7 DONE 4.9s

#9 [builder 1/6] FROM docker.io/library/node:14-alpine@sha256:434215b487a329c9e867202ff89e704d3a75e554822e07f3e0c0f9e606121b33
#9 resolve docker.io/library/node:14-alpine@sha256:434215b487a329c9e867202ff89e704d3a75e554822e07f3e0c0f9e606121b33 0.2s done
#9 sha256:434215b487a329c9e867202ff89e704d3a75e554822e07f3e0c0f9e606121b33 1.43kB / 1.43kB done
#9 sha256:4e84c956cd276af9ed14a8b2939a734364c2b0042485e90e1b97175e73dfd548 1.16kB / 1.16kB done
#9 sha256:0dac3dc27b1ad570e6c3a7f7cd29e88e7130ff0cad31b2ec5a0f222fbe971bdb 6.44kB / 6.44kB done
#9 sha256:8f665685b215c7daf9164545f1bbdd74d800af77d0d267db31fe0345c0c8fb8b 37.17MB / 37.17MB 1.6s done
#9 sha256:f56be85fc22e46face30e2c3de3f7fe7c15f8fd7c4e5add29d7f64b87abdaa09 3.37MB / 3.37MB 0.3s done
#9 sha256:e5fca6c395a62ec277102af9e5283f6edb43b3e4f20f798e3ce7e425be226ba6 2.37MB / 2.37MB 0.5s done
#9 extracting sha256:f56be85fc22e46face30e2c3de3f7fe7c15f8fd7c4e5add29d7f64b87abdaa09 0.3s done
#9 sha256:561cb69653d56a9725be56e02128e4e96fb434a8b4b4decf2bdeb479a225feaf 448B / 448B 0.8s done
#9 extracting sha256:8f665685b215c7daf9164545f1bbdd74d800af77d0d267db31fe0345c0c8fb8b 2.5s done
#9 extracting sha256:e5fca6c395a62ec277102af9e5283f6edb43b3e4f20f798e3ce7e425be226ba6
#9 extracting sha256:e5fca6c395a62ec277102af9e5283f6edb43b3e4f20f798e3ce7e425be226ba6 0.2s done
#9 extracting sha256:561cb69653d56a9725be56e02128e4e96fb434a8b4b4decf2bdeb479a225feaf
#9 extracting sha256:561cb69653d56a9725be56e02128e4e96fb434a8b4b4decf2bdeb479a225feaf done
#9 ...

#8 [stage-1 1/4] FROM docker.io/library/nginx:1.14.1-alpine@sha256:3c1380fd5f6f0e4c468a922ed6331831e60cea9db317b8ac4a8ad36335e53bbd
#8 extracting sha256:5980ba3b5a393d18c9c37551a35ae230349f88953ada6c5a6e52e602a5102678 done
#8 DONE 6.8s

#10 [stage-1 2/4] COPY nginx.conf /etc/nginx/nginx.conf
#10 ...

#9 [builder 1/6] FROM docker.io/library/node:14-alpine@sha256:434215b487a329c9e867202ff89e704d3a75e554822e07f3e0c0f9e606121b33
#9 DONE 13.9s

#10 [stage-1 2/4] COPY nginx.conf /etc/nginx/nginx.conf
#10 DONE 7.0s

#11 [stage-1 3/4] RUN rm -rf /usr/share/nginx/html/*
#11 ...

#12 [builder 2/6] COPY package.json package-lock.json ./
#12 DONE 0.6s

#13 [builder 3/6] RUN npm ci && mkdir /ng-app && mv ./node_modules ./ng-app
#13 ...

#11 [stage-1 3/4] RUN rm -rf /usr/share/nginx/html/*
#11 DONE 1.3s

#13 [builder 3/6] RUN npm ci && mkdir /ng-app && mv ./node_modules ./ng-app
#13 33.78 npm ERR! code ENOENT
#13 33.78 npm ERR! syscall open
#13 33.78 npm ERR! path /node_modules/npm/node_modules/minipass/package.json
#13 33.78 npm ERR! errno -2
#13 33.79 npm ERR! enoent ENOENT: no such file or directory, open '/node_modules/npm/node_modules/minipass/package.json'
#13 33.79 npm ERR! enoent This is related to npm not being able to find a file.
#13 33.79 npm ERR! enoent 
#13 41.14 
#13 41.14 npm ERR! A complete log of this run can be found in:
#13 41.14 npm ERR!     /root/.npm/_logs/2024-07-31T23_05_15_963Z-debug.log
#13 ERROR: process "/bin/sh -c npm ci && mkdir /ng-app && mv ./node_modules ./ng-app" did not complete successfully: exit code: 254
------
 > [builder 3/6] RUN npm ci && mkdir /ng-app && mv ./node_modules ./ng-app:
 ERR! code ENOENT
33.78 npm ERR! syscall open
33.78 npm ERR! path /node_modules/npm/node_modules/minipass/package.json
33.78 npm ERR! errno -2
33.79 npm ERR! enoent ENOENT: no such file or directory, open '/node_modules/npm/node_modules/minipass/package.json'
33.79 npm ERR! enoent This is related to npm not being able to find a file.
33.79 npm ERR! enoent 
ERR!     /root/.npm/_logs/2024-07-31T23_05_15_963Z-debug.log
------
Dockerfile:10
--------------------
   8 |     ## Storing node modules on a separate layer will prevent unnecessary npm installs at each build
   9 |     
  10 | >>> RUN npm ci && mkdir /ng-app && mv ./node_modules ./ng-app
  11 |     
  12 |     WORKDIR /ng-app
--------------------
ERROR: failed to solve: process "/bin/sh -c npm ci && mkdir /ng-app && mv ./node_modules ./ng-app" did not complete successfully: exit code: 254
Duration: 1:10.66