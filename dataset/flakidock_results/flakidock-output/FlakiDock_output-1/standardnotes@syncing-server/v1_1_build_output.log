#0 building with "default" instance using docker driver

#1 [internal] load build definition from v1_Dockerfile
#1 transferring dockerfile:
#1 transferring dockerfile: 499B done
#1 DONE 0.4s

#2 [internal] load .dockerignore
#2 transferring context: 2B done
#2 DONE 0.5s

#3 [internal] load metadata for docker.io/library/ruby:2.6.5-alpine
#3 DONE 1.1s

#4 [1/7] FROM docker.io/library/ruby:2.6.5-alpine@sha256:a5b974e2ebb2b72642f4de4e5562597ec0883c3bfd93e9553cee6bd395dfbf00
#4 resolve docker.io/library/ruby:2.6.5-alpine@sha256:a5b974e2ebb2b72642f4de4e5562597ec0883c3bfd93e9553cee6bd395dfbf00
#4 resolve docker.io/library/ruby:2.6.5-alpine@sha256:a5b974e2ebb2b72642f4de4e5562597ec0883c3bfd93e9553cee6bd395dfbf00 0.3s done
#4 ...

#5 [internal] load build context
#5 transferring context: 1.37MB 0.0s done
#5 DONE 0.4s

#4 [1/7] FROM docker.io/library/ruby:2.6.5-alpine@sha256:a5b974e2ebb2b72642f4de4e5562597ec0883c3bfd93e9553cee6bd395dfbf00
#4 sha256:a5b974e2ebb2b72642f4de4e5562597ec0883c3bfd93e9553cee6bd395dfbf00 1.65kB / 1.65kB done
#4 sha256:1060a5ad860d58fbcaf2f917bbb8f882f002e2bbd670985f4d4cc88fad9c70b2 1.36kB / 1.36kB done
#4 sha256:59d4ec426ed6932cd5c3e1248ae1da0910aa1cc5b9209414ae77304cc0395537 5.93kB / 5.93kB done
#4 sha256:aad63a9339440e7c3e1fff2b988991b9bfb81280042fa7f39a5e327023056819 0B / 2.80MB 0.1s
#4 sha256:aad63a9339440e7c3e1fff2b988991b9bfb81280042fa7f39a5e327023056819 2.80MB / 2.80MB 0.3s
#4 sha256:cca28d9d22b9db22fe924a8dea99a0f2b6dd9bd713535ee3469f5d5d97f67871 0B / 1.13MB 0.3s
#4 sha256:e46ee7bc75f66e10d9b504cc4dcdc6546a700b1c62a007d608e3774ad2edd402 196B / 196B 0.3s
#4 sha256:aad63a9339440e7c3e1fff2b988991b9bfb81280042fa7f39a5e327023056819 2.80MB / 2.80MB 0.3s done
#4 sha256:cca28d9d22b9db22fe924a8dea99a0f2b6dd9bd713535ee3469f5d5d97f67871 1.13MB / 1.13MB 0.4s
#4 sha256:e46ee7bc75f66e10d9b504cc4dcdc6546a700b1c62a007d608e3774ad2edd402 196B / 196B 0.4s done
#4 extracting sha256:aad63a9339440e7c3e1fff2b988991b9bfb81280042fa7f39a5e327023056819 0.1s
#4 sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 0B / 22.04MB 0.5s
#4 sha256:c262dbdf41d75f6e2ffeb341e0d64b36709c007a4a2e3a133b9d1c4b60a54743 0B / 141B 0.5s
#4 sha256:cca28d9d22b9db22fe924a8dea99a0f2b6dd9bd713535ee3469f5d5d97f67871 1.13MB / 1.13MB 0.6s done
#4 extracting sha256:aad63a9339440e7c3e1fff2b988991b9bfb81280042fa7f39a5e327023056819 0.2s done
#4 sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 9.44MB / 22.04MB 0.7s
#4 sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 13.63MB / 22.04MB 0.8s
#4 sha256:c262dbdf41d75f6e2ffeb341e0d64b36709c007a4a2e3a133b9d1c4b60a54743 141B / 141B 0.7s done
#4 extracting sha256:cca28d9d22b9db22fe924a8dea99a0f2b6dd9bd713535ee3469f5d5d97f67871 0.1s
#4 sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 20.97MB / 22.04MB 1.0s
#4 extracting sha256:cca28d9d22b9db22fe924a8dea99a0f2b6dd9bd713535ee3469f5d5d97f67871 0.1s done
#4 sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 22.04MB / 22.04MB 1.4s done
#4 extracting sha256:e46ee7bc75f66e10d9b504cc4dcdc6546a700b1c62a007d608e3774ad2edd402 done
#4 extracting sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876
#4 extracting sha256:12139539199ebeeebb8b34836027ce7cd38501305ef546c89d77381273bb1876 1.0s done
#4 extracting sha256:c262dbdf41d75f6e2ffeb341e0d64b36709c007a4a2e3a133b9d1c4b60a54743
#4 extracting sha256:c262dbdf41d75f6e2ffeb341e0d64b36709c007a4a2e3a133b9d1c4b60a54743 done
#4 DONE 4.4s

#6 [2/7] RUN apk add --update --no-cache     alpine-sdk     mariadb-dev     tzdata
#6 0.467 fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz
#6 0.690 fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz
#6 0.945 (1/48) Upgrading musl (1.1.24-r2 -> 1.1.24-r3)
#6 0.956 (2/48) Upgrading libcrypto1.1 (1.1.1d-r3 -> 1.1.1l-r0)
#6 0.992 (3/48) Upgrading libssl1.1 (1.1.1d-r3 -> 1.1.1l-r0)
#6 1.001 (4/48) Installing fakeroot (1.24-r0)
#6 1.005 (5/48) Installing sudo (1.9.5p2-r1)
#6 1.051 (6/48) Installing libcap (2.27-r0)
#6 1.056 (7/48) Installing pax-utils (1.2.4-r0)
#6 1.069 (8/48) Installing openssl (1.1.1l-r0)
#6 1.079 (9/48) Installing libattr (2.4.48-r0)
#6 1.083 (10/48) Installing attr (2.4.48-r0)
#6 1.094 (11/48) Installing libacl (2.2.53-r0)
#6 1.102 (12/48) Installing tar (1.32-r2)
#6 1.111 (13/48) Installing patch (2.7.6-r7)
#6 1.121 (14/48) Upgrading libstdc++ (9.2.0-r4 -> 9.3.0-r0)
#6 1.144 (15/48) Installing lzip (1.21-r0)
#6 1.149 (16/48) Installing nghttp2-libs (1.40.0-r1)
#6 1.163 (17/48) Installing libcurl (7.79.1-r0)
#6 1.172 (18/48) Installing curl (7.79.1-r0)
#6 1.178 (19/48) Installing abuild (3.5.0-r1)
#6 1.181 Executing abuild-3.5.0-r1.pre-install
#6 1.192 (20/48) Installing binutils (2.33.1-r1)
#6 1.293 (21/48) Installing libmagic (5.37-r1)
#6 1.316 (22/48) Installing file (5.37-r1)
#6 1.320 (23/48) Installing isl (0.18-r0)
#6 1.338 (24/48) Installing libgomp (9.3.0-r0)
#6 1.343 (25/48) Installing libatomic (9.3.0-r0)
#6 1.346 (26/48) Installing mpfr4 (4.0.2-r1)
#6 1.355 (27/48) Installing mpc1 (1.1.0-r1)
#6 1.358 (28/48) Installing gcc (9.3.0-r0)
#6 2.225 (29/48) Installing musl-dev (1.1.24-r3)
#6 2.335 (30/48) Installing libc-dev (0.7.2-r0)
#6 2.338 (31/48) Installing g++ (9.3.0-r0)
#6 2.952 (32/48) Installing make (4.2.1-r2)
#6 2.958 (33/48) Installing fortify-headers (1.1-r0)
#6 2.967 (34/48) Installing build-base (0.5-r1)
#6 2.970 (35/48) Installing expat (2.2.9-r1)
#6 2.976 (36/48) Installing pcre2 (10.34-r1)
#6 2.986 (37/48) Installing git (2.24.4-r0)
#6 3.189 (38/48) Installing alpine-sdk (1.0-r0)
#6 3.191 (39/48) Installing openssl-dev (1.1.1l-r0)
#6 3.215 (40/48) Installing mariadb-connector-c (3.1.6-r1)
#6 3.224 (41/48) Installing mariadb-connector-c-dev (3.1.6-r1)
#6 3.232 (42/48) Installing mariadb-common (10.4.22-r0)
#6 3.257 (43/48) Installing libaio (0.3.112-r1)
#6 3.261 (44/48) Installing xz-libs (5.2.4-r0)
#6 3.266 (45/48) Installing pcre (8.43-r1)
#6 3.273 (46/48) Installing mariadb-embedded (10.4.22-r0)
#6 3.420 (47/48) Installing mariadb-dev (10.4.22-r0)
#6 3.540 (48/48) Installing tzdata (2021e-r0)
#6 3.718 Executing busybox-1.31.1-r9.trigger
#6 3.724 Executing ca-certificates-20191127-r1.trigger
#6 3.768 OK: 240 MiB in 80 packages
#6 DONE 9.8s

#7 [3/7] WORKDIR /syncing-server
#7 DONE 0.4s

#8 [4/7] COPY Gemfile Gemfile.lock /syncing-server/
#8 DONE 0.4s

#9 [5/7] RUN if [ "$optimize_for_raspberry_pi" = true ] ; then sed -i 's/bcrypt (3.1.16)/bcrypt (3.1.12)/g' Gemfile.lock; fi
#9 DONE 0.8s

#10 [6/7] RUN gem install bundler -v 2.4.22 && bundle install
#10 42.56 Successfully installed bundler-2.4.22
#10 42.56 1 gem installed
#10 42.79 Your RubyGems version (3.0.3) has a bug that prevents `required_ruby_version` from working for Bundler. Any scripts that use `gem install bundler` will break as soon as Bundler drops support for your Ruby version. Please upgrade RubyGems to avoid future breakage and silence this warning by running `gem update --system 3.2.3`
#10 43.88 Fetching gem metadata from https://rubygems.org/.........
#10 49.16 Fetching rake 13.0.3
#10 49.34 Installing rake 13.0.3
#10 49.42 Fetching builder 3.2.4
#10 49.42 Fetching racc 1.5.2
#10 49.43 Fetching rack 2.2.3
#10 49.43 Fetching websocket-extensions 0.1.5
#10 49.43 Fetching mini_mime 1.0.3
#10 49.43 Fetching marcel 1.0.0
#10 49.43 Fetching ast 2.4.2
#10 49.43 Fetching aws-partitions 1.437.0
#10 49.43 Fetching bcrypt 3.1.16
#10 49.43 Fetching byebug 11.1.3
#10 49.43 Fetching device_detector 1.0.5
#10 49.43 Fetching docile 1.3.5
#10 49.43 Fetching concurrent-ruby 1.1.8
#10 49.43 Fetching minitest 5.14.4
#10 49.43 Fetching crass 1.0.6
#10 49.45 Fetching arel 9.0.0
#10 49.45 Fetching aws-eventstream 1.1.1
#10 49.45 Fetching jmespath 1.4.0
#10 49.45 Fetching msgpack 1.4.2
#10 49.45 Fetching chronic 0.10.2
#10 49.45 Fetching nio4r 2.5.7
#10 49.45 Fetching thread_safe 0.3.6
#10 49.45 Fetching erubi 1.10.0
#10 49.45 Fetching diff-lcs 1.4.4
#10 49.97 Installing ast 2.4.2
#10 49.98 Installing docile 1.3.5
#10 49.98 Installing builder 3.2.4
#10 49.98 Installing crass 1.0.6
#10 49.99 Installing jmespath 1.4.0
#10 50.01 Installing aws-eventstream 1.1.1
#10 50.01 Installing marcel 1.0.0
#10 50.02 Installing aws-partitions 1.437.0
#10 50.02 Installing mini_mime 1.0.3
#10 50.04 Installing erubi 1.10.0
#10 50.04 Installing diff-lcs 1.4.4
#10 50.05 Installing arel 9.0.0
#10 50.05 Installing websocket-extensions 0.1.5
#10 50.06 Installing bcrypt 3.1.16 with native extensions
#10 50.07 Installing chronic 0.10.2
#10 50.09 Installing minitest 5.14.4
#10 50.09 Installing byebug 11.1.3 with native extensions
#10 50.10 Installing msgpack 1.4.2 with native extensions
#10 50.13 Installing nio4r 2.5.7 with native extensions
#10 50.13 Installing thread_safe 0.3.6
#10 50.14 Installing rack 2.2.3
#10 50.28 Installing concurrent-ruby 1.1.8
#10 50.29 Fetching dotenv 2.7.6
#10 50.31 Fetching method_source 1.0.0
#10 50.32 Fetching thor 1.1.0
#10 50.32 Fetching erubis 2.7.0
#10 50.41 Installing racc 1.5.2 with native extensions
#10 50.43 Installing dotenv 2.7.6
#10 50.43 Installing method_source 1.0.0
#10 50.44 Fetching ffi 1.15.0
#10 50.49 Installing thor 1.1.0
#10 50.56 Fetching temple 0.8.2
#10 50.58 Fetching tilt 2.0.10
#10 50.63 Installing erubis 2.7.0
#10 50.63 Installing device_detector 1.0.5
#10 50.65 Installing temple 0.8.2
#10 50.67 Installing tilt 2.0.10
#10 50.70 Fetching sexp_processor 4.15.2
#10 50.84 Installing sexp_processor 4.15.2
#10 50.87 Fetching jaro_winkler 1.5.4
#10 50.94 Installing jaro_winkler 1.5.4 with native extensions
#10 51.10 Fetching rb-fsevent 0.10.4
#10 51.10 Fetching jwt 2.2.2
#10 51.59 Installing jwt 2.2.2
#10 51.60 Installing rb-fsevent 0.10.4
#10 51.66 Fetching mysql2 0.4.10
#10 51.72 Installing ffi 1.15.0 with native extensions
#10 51.75 Fetching newrelic_rpm 6.15.0
#10 51.85 Installing mysql2 0.4.10 with native extensions
#10 51.90 Fetching parallel 1.20.1
#10 51.99 Installing parallel 1.20.1
#10 52.00 Fetching rack-timeout 0.6.0
#10 52.06 Installing rack-timeout 0.6.0
#10 52.13 Fetching rainbow 3.0.0
#10 52.16 Installing newrelic_rpm 6.15.0
#10 52.20 Installing rainbow 3.0.0
#10 52.26 Fetching redis 4.2.5
#10 52.35 Installing redis 4.2.5
#10 52.41 Fetching rotp 6.2.0
#10 52.45 Fetching rspec-support 3.10.2
#10 52.50 Fetching ruby-progressbar 1.11.0
#10 52.55 Installing rspec-support 3.10.2
#10 52.56 Installing rotp 6.2.0
#10 52.57 Installing ruby-progressbar 1.11.0
#10 52.63 Fetching unicode-display_width 1.6.1
#10 52.69 Installing unicode-display_width 1.6.1
#10 52.78 Fetching secure_headers 6.3.2
#10 52.84 Fetching simplecov-html 0.12.3
#10 52.87 Fetching simplecov_json_formatter 0.1.2
#10 53.45 Installing secure_headers 6.3.2
#10 53.50 Fetching websocket-driver 0.7.3
#10 53.62 Installing simplecov-html 0.12.3
#10 53.70 Fetching parser 3.0.0.0
#10 53.77 Installing simplecov_json_formatter 0.1.2
#10 53.80 Fetching aws-sigv4 1.2.3
#10 53.84 Fetching mail 2.7.1
#10 53.95 Installing aws-sigv4 1.2.3
#10 54.06 Fetching ruby_parser 3.15.1
#10 54.15 Fetching whenever 1.0.0
#10 54.18 Fetching tzinfo 1.2.9
#10 54.25 Installing mail 2.7.1
#10 54.40 Installing whenever 1.0.0
#10 54.41 Fetching haml 5.2.1
#10 54.41 Fetching rack-test 1.1.0
#10 54.49 Installing tzinfo 1.2.9
#10 54.50 Installing rack-test 1.1.0
#10 54.52 Installing parser 3.0.0.0
#10 54.54 Installing haml 5.2.1
#10 54.56 Installing ruby_parser 3.15.1
#10 54.61 Fetching aws-sdk-core 3.113.1
#10 54.75 Fetching rack-cors 1.1.1
#10 54.76 Fetching request_store 1.5.0
#10 54.87 Installing request_store 1.5.0
#10 54.88 Fetching rspec-core 3.10.1
#10 54.92 Installing aws-sdk-core 3.113.1
#10 54.92 Installing rack-cors 1.1.1
#10 54.94 Fetching rspec-expectations 3.10.1
#10 55.06 Installing rspec-core 3.10.1
#10 55.07 Installing rspec-expectations 3.10.1
#10 55.32 Fetching rspec-mocks 3.10.2
#10 55.41 Installing rspec-mocks 3.10.2
#10 55.83 Fetching simplecov 0.21.2
#10 55.91 Installing simplecov 0.21.2
#10 56.08 Installing websocket-driver 0.7.3 with native extensions
#10 56.55 Fetching rubocop 0.79.0
#10 56.80 Installing rubocop 0.79.0
#10 56.81 Fetching i18n 1.8.9
#10 56.82 Fetching sprockets 4.0.2
#10 56.90 Installing i18n 1.8.9
#10 56.91 Installing sprockets 4.0.2
#10 57.36 Fetching activesupport 5.2.5
#10 57.48 Installing activesupport 5.2.5
#10 58.01 Fetching aws-sdk-kms 1.43.0
#10 58.01 Fetching aws-sdk-sns 1.39.0
#10 58.01 Fetching aws-sdk-sqs 1.38.0
#10 58.01 Fetching shoryuken 5.2.0
#10 58.13 Installing aws-sdk-sns 1.39.0
#10 58.13 Installing shoryuken 5.2.0
#10 58.13 Installing aws-sdk-sqs 1.38.0
#10 58.14 Installing aws-sdk-kms 1.43.0
#10 58.26 Fetching aws-sdk-s3 1.93.0
#10 58.35 Installing aws-sdk-s3 1.93.0
#10 58.93 Fetching puma 5.2.2
#10 59.12 Installing puma 5.2.2 with native extensions
#10 59.36 Fetching activemodel 5.2.5
#10 59.36 Fetching factory_bot 6.1.0
#10 59.36 Fetching globalid 0.4.2
#10 59.43 Installing globalid 0.4.2
#10 59.45 Installing factory_bot 6.1.0
#10 59.45 Installing activemodel 5.2.5
#10 59.53 Fetching activejob 5.2.5
#10 59.58 Installing activejob 5.2.5
#10 59.88 Fetching activerecord 5.2.5
#10 60.00 Installing activerecord 5.2.5
#10 60.66 Fetching ar-octopus 0.10.2
#10 60.66 Fetching rubocop-shopify 1.0.0
#10 60.72 Installing rubocop-shopify 1.0.0
#10 60.74 Installing ar-octopus 0.10.2
#10 71.11 Fetching bootsnap 1.7.3
#10 71.15 Installing bootsnap 1.7.3 with native extensions
#10 72.07 Fetching nokogiri 1.11.2 (x86_64-linux)
#10 72.49 Installing nokogiri 1.11.2 (x86_64-linux)
#10 72.81 Fetching rails-dom-testing 2.0.3
#10 72.82 Fetching loofah 2.9.0
#10 72.82 Fetching html2haml 2.2.0
#10 72.90 Installing rails-dom-testing 2.0.3
#10 72.91 Installing html2haml 2.2.0
#10 72.91 Installing loofah 2.9.0
#10 73.01 Fetching rails-html-sanitizer 1.3.0
#10 73.04 Installing rails-html-sanitizer 1.3.0
#10 73.08 Fetching actionview 5.2.5
#10 73.13 Installing actionview 5.2.5
#10 73.23 Fetching actionpack 5.2.5
#10 73.28 Installing actionpack 5.2.5
#10 73.41 Fetching actionmailer 5.2.5
#10 73.42 Fetching sprockets-rails 3.2.2
#10 73.44 Fetching activestorage 5.2.5
#10 73.44 Fetching railties 5.2.5
#10 73.50 Installing sprockets-rails 3.2.2
#10 73.53 Installing actionmailer 5.2.5
#10 73.53 Installing activestorage 5.2.5
#10 73.62 Installing railties 5.2.5
#10 73.92 Fetching haml-rails 2.0.1
#10 73.93 Fetching rspec-rails 5.0.1
#10 73.93 Fetching dotenv-rails 2.7.6
#10 73.93 Fetching factory_bot_rails 6.1.0
#10 73.93 Fetching responders 2.4.1
#10 73.93 Fetching lograge 0.11.2
#10 74.16 Installing lograge 0.11.2
#10 74.16 Installing haml-rails 2.0.1
#10 74.16 Installing dotenv-rails 2.7.6
#10 74.18 Installing responders 2.4.1
#10 74.18 Installing factory_bot_rails 6.1.0
#10 74.20 Installing rspec-rails 5.0.1
#10 74.52 Fetching actioncable 5.2.5
#10 74.58 Installing actioncable 5.2.5
#10 74.63 Fetching rails 5.2.5
#10 74.68 Installing rails 5.2.5
#10 87.55 Fetching rb-inotify 0.10.1
#10 87.61 Installing rb-inotify 0.10.1
#10 87.65 Fetching listen 3.5.0
#10 88.02 Installing listen 3.5.0
#10 88.56 Bundle complete! 30 Gemfile dependencies, 105 gems now installed.
#10 88.56 Use `bundle info [gemname]` to see where a bundled gem is installed.
#10 88.56 Post-install message from ar-octopus:
#10 88.56 Important: If you are upgrading from < Octopus 0.5.0 you need to run:
#10 88.56 $ rake octopus:copy_schema_versions
#10 88.56 
#10 88.56 Octopus now stores schema version information in each shard and migrations will not work properly unless this task is invoked.
#10 DONE 89.8s

#11 [7/7] COPY . /syncing-server
#11 DONE 0.6s

#12 exporting to image
#12 exporting layers
#12 exporting layers 3.2s done
#12 writing image sha256:7027bf86780289dc8f13057df2da9a1b1a999ab3e5d33fd327acc3002f75ebab 0.0s done
#12 naming to docker.io/library/image_name_v1_1 0.0s done
#12 DONE 3.2s
Duration: 1:51.84