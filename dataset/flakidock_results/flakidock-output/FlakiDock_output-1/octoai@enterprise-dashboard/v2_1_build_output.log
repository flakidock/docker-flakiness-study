#0 building with "default" instance using docker driver

#1 [internal] load build definition from v2_Dockerfile
#1 transferring dockerfile:
#1 transferring dockerfile: 673B done
#1 DONE 0.4s

#2 [internal] load .dockerignore
#2 transferring context: 81B done
#2 DONE 0.5s

#3 [internal] load metadata for docker.io/library/ruby:2.7.4
#3 DONE 1.2s

#4 [internal] load build context
#4 DONE 0.0s

#5 [1/9] FROM docker.io/library/ruby:2.7.4@sha256:c4f29f28d297efcce62455a20d38383155a85eda9de38ed4635c2c5f3017df03
#5 resolve docker.io/library/ruby:2.7.4@sha256:c4f29f28d297efcce62455a20d38383155a85eda9de38ed4635c2c5f3017df03 0.1s done
#5 sha256:c4f29f28d297efcce62455a20d38383155a85eda9de38ed4635c2c5f3017df03 1.86kB / 1.86kB done
#5 sha256:5dabe9ad55fff53fbc542c75ef6fb8359181ce22c8f115efcc1aaf015553ba8b 7.29kB / 7.29kB done
#5 sha256:eafd1d2e549c59ad9d7a403cd1e2f78361dc288804c9fbc012ad415ef2c3297a 2.00kB / 2.00kB done
#5 sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 0B / 54.93MB 0.1s
#5 sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 3.15MB / 54.93MB 0.3s
#5 sha256:b02967ef003473d9adc6e20868d9d66af85b0871919bcec92419f65c974aa8ce 0B / 5.15MB 0.3s
#5 sha256:e1ad2231829e42e6f095971b5d2dc143d97db2d0870571ba4d29ecd599db62cb 0B / 10.87MB 0.3s
#5 sha256:b02967ef003473d9adc6e20868d9d66af85b0871919bcec92419f65c974aa8ce 4.92MB / 5.15MB 0.4s
#5 sha256:e1ad2231829e42e6f095971b5d2dc143d97db2d0870571ba4d29ecd599db62cb 1.21MB / 10.87MB 0.4s
#5 sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 10.49MB / 54.93MB 0.5s
#5 sha256:e1ad2231829e42e6f095971b5d2dc143d97db2d0870571ba4d29ecd599db62cb 5.24MB / 10.87MB 0.5s
#5 sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 19.92MB / 54.93MB 0.7s
#5 sha256:b02967ef003473d9adc6e20868d9d66af85b0871919bcec92419f65c974aa8ce 5.15MB / 5.15MB 0.5s done
#5 sha256:e1ad2231829e42e6f095971b5d2dc143d97db2d0870571ba4d29ecd599db62cb 10.87MB / 10.87MB 0.7s
#5 sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b 0B / 54.57MB 0.7s
#5 sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 27.26MB / 54.93MB 0.9s
#5 sha256:e1ad2231829e42e6f095971b5d2dc143d97db2d0870571ba4d29ecd599db62cb 10.87MB / 10.87MB 0.8s done
#5 sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b 10.49MB / 54.57MB 0.9s
#5 ...

#4 [internal] load build context
#4 transferring context: 41.22MB 0.6s done
#4 DONE 1.1s

#5 [1/9] FROM docker.io/library/ruby:2.7.4@sha256:c4f29f28d297efcce62455a20d38383155a85eda9de38ed4635c2c5f3017df03
#5 sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b 14.68MB / 54.57MB 1.0s
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 0B / 196.50MB 1.0s
#5 sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 33.55MB / 54.93MB 1.1s
#5 sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b 18.87MB / 54.57MB 1.1s
#5 sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 36.70MB / 54.93MB 1.2s
#5 sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b 23.07MB / 54.57MB 1.2s
#5 sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 39.85MB / 54.93MB 1.3s
#5 sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b 26.21MB / 54.57MB 1.3s
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 10.49MB / 196.50MB 1.3s
#5 sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 46.14MB / 54.93MB 1.5s
#5 sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b 33.55MB / 54.57MB 1.5s
#5 sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 50.33MB / 54.93MB 1.6s
#5 sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b 37.75MB / 54.57MB 1.6s
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 25.17MB / 196.50MB 1.6s
#5 sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 54.93MB / 54.93MB 1.8s
#5 sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b 44.04MB / 54.57MB 1.8s
#5 sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b 54.57MB / 54.57MB 2.0s
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 42.99MB / 196.50MB 2.0s
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 55.57MB / 196.50MB 2.1s
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 69.21MB / 196.50MB 2.4s
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 82.84MB / 196.50MB 2.6s
#5 sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 54.93MB / 54.93MB 2.6s done
#5 extracting sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 95.42MB / 196.50MB 2.8s
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 110.10MB / 196.50MB 3.1s
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 124.78MB / 196.50MB 3.3s
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 138.41MB / 196.50MB 3.5s
#5 sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b 54.57MB / 54.57MB 3.5s done
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 152.04MB / 196.50MB 3.7s
#5 sha256:9cf1943fd94637c352d9dc326710ab7a2ca3d0850ae67c6f6ae6a6da228d4d8f 0B / 14.51MB 3.7s
#5 sha256:11c270d8f828fe2d06ecdcab761a226d5de10060af6a34af7e3bed50159e3b7e 0B / 200B 3.7s
#5 sha256:11c270d8f828fe2d06ecdcab761a226d5de10060af6a34af7e3bed50159e3b7e 200B / 200B 3.8s done
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 166.72MB / 196.50MB 3.9s
#5 sha256:9cf1943fd94637c352d9dc326710ab7a2ca3d0850ae67c6f6ae6a6da228d4d8f 4.19MB / 14.51MB 3.9s
#5 sha256:078b5f9e45c2d4e6c5a9199540cb400d8c51fd2ab470b8f0acf0eec06163090c 0B / 175B 3.9s
#5 sha256:9cf1943fd94637c352d9dc326710ab7a2ca3d0850ae67c6f6ae6a6da228d4d8f 8.39MB / 14.51MB 4.0s
#5 sha256:078b5f9e45c2d4e6c5a9199540cb400d8c51fd2ab470b8f0acf0eec06163090c 175B / 175B 4.0s done
#5 sha256:9cf1943fd94637c352d9dc326710ab7a2ca3d0850ae67c6f6ae6a6da228d4d8f 13.63MB / 14.51MB 4.1s
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 187.70MB / 196.50MB 4.3s
#5 sha256:9cf1943fd94637c352d9dc326710ab7a2ca3d0850ae67c6f6ae6a6da228d4d8f 14.51MB / 14.51MB 4.3s
#5 sha256:9cf1943fd94637c352d9dc326710ab7a2ca3d0850ae67c6f6ae6a6da228d4d8f 14.51MB / 14.51MB 4.4s done
#5 extracting sha256:647acf3d48c2780e00cd27bb0984367415f270d78477ef9d5b238e6ebd5290da 3.0s done
#5 sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 196.50MB / 196.50MB 7.4s done
#5 extracting sha256:b02967ef003473d9adc6e20868d9d66af85b0871919bcec92419f65c974aa8ce 0.1s
#5 extracting sha256:b02967ef003473d9adc6e20868d9d66af85b0871919bcec92419f65c974aa8ce 0.3s done
#5 extracting sha256:e1ad2231829e42e6f095971b5d2dc143d97db2d0870571ba4d29ecd599db62cb
#5 extracting sha256:e1ad2231829e42e6f095971b5d2dc143d97db2d0870571ba4d29ecd599db62cb 0.4s done
#5 extracting sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b
#5 extracting sha256:5576ce26bf1df68da60eeb5162dccde1b69f865d2815aba8b2d29e7181aeb62b 3.4s done
#5 extracting sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e
#5 extracting sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 5.1s
#5 extracting sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 10.2s
#5 extracting sha256:a66b7f31b095b7fa01d8ba10e600a192bab43a1311f50216cf6fa9a45d0f435e 10.8s done
#5 extracting sha256:11c270d8f828fe2d06ecdcab761a226d5de10060af6a34af7e3bed50159e3b7e
#5 extracting sha256:11c270d8f828fe2d06ecdcab761a226d5de10060af6a34af7e3bed50159e3b7e done
#5 extracting sha256:9cf1943fd94637c352d9dc326710ab7a2ca3d0850ae67c6f6ae6a6da228d4d8f
#5 extracting sha256:9cf1943fd94637c352d9dc326710ab7a2ca3d0850ae67c6f6ae6a6da228d4d8f 0.7s done
#5 extracting sha256:078b5f9e45c2d4e6c5a9199540cb400d8c51fd2ab470b8f0acf0eec06163090c
#5 extracting sha256:078b5f9e45c2d4e6c5a9199540cb400d8c51fd2ab470b8f0acf0eec06163090c done
#5 DONE 27.6s

#6 [2/9] RUN apt-get update && apt-get install -y build-essential libpq-dev nodejs
#6 0.537 Get:1 http://deb.debian.org/debian bullseye InRelease [116 kB]
#6 0.537 Get:2 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]
#6 0.566 Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]
#6 0.687 Get:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [280 kB]
#6 0.807 Get:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8067 kB]
#6 0.932 Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [18.8 kB]
#6 2.168 Fetched 8574 kB in 2s (5165 kB/s)
#6 2.168 Reading package lists...
#6 2.804 Reading package lists...
#6 3.418 Building dependency tree...
#6 3.536 Reading state information...
#6 3.657 The following additional packages will be installed:
#6 3.657   javascript-common libc-ares2 libjs-highlight.js libnode72 libpq5 libuv1
#6 3.658   nodejs-doc
#6 3.658 Suggested packages:
#6 3.658   apache2 | lighttpd | httpd postgresql-doc-13 npm
#6 3.722 The following NEW packages will be installed:
#6 3.722   build-essential javascript-common libc-ares2 libjs-highlight.js libnode72
#6 3.722   libuv1 nodejs nodejs-doc
#6 3.723 The following packages will be upgraded:
#6 3.724   libpq-dev libpq5
#6 3.760 2 upgraded, 8 newly installed, 0 to remove and 165 not upgraded.
#6 3.760 Need to get 12.0 MB of archives.
#6 3.760 After this operation, 50.9 MB of additional disk space will be used.
#6 3.760 Get:1 http://deb.debian.org/debian bullseye/main amd64 build-essential amd64 12.9 [7704 B]
#6 3.771 Get:2 http://deb.debian.org/debian bullseye/main amd64 javascript-common all 11+nmu1 [6260 B]
#6 3.772 Get:3 http://deb.debian.org/debian bullseye/main amd64 libc-ares2 amd64 1.17.1-1+deb11u3 [102 kB]
#6 3.784 Get:4 http://deb.debian.org/debian bullseye/main amd64 libjs-highlight.js all 9.18.5+dfsg1-1 [397 kB]
#6 3.806 Get:5 http://deb.debian.org/debian bullseye/main amd64 libuv1 amd64 1.40.0-2+deb11u1 [132 kB]
#6 3.809 Get:6 http://deb.debian.org/debian bullseye/main amd64 libnode72 amd64 12.22.12~dfsg-1~deb11u4 [8332 kB]
#6 3.909 Get:7 http://deb.debian.org/debian bullseye/main amd64 libpq-dev amd64 13.15-0+deb11u1 [142 kB]
#6 3.910 Get:8 http://deb.debian.org/debian bullseye/main amd64 libpq5 amd64 13.15-0+deb11u1 [182 kB]
#6 3.912 Get:9 http://deb.debian.org/debian bullseye/main amd64 nodejs amd64 12.22.12~dfsg-1~deb11u4 [148 kB]
#6 3.914 Get:10 http://deb.debian.org/debian bullseye/main amd64 nodejs-doc all 12.22.12~dfsg-1~deb11u4 [2547 kB]
#6 4.166 debconf: delaying package configuration, since apt-utils is not installed
#6 4.233 Fetched 12.0 MB in 0s (57.8 MB/s)
#6 4.310 Selecting previously unselected package build-essential.
#6 4.310 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 22746 files and directories currently installed.)
#6 4.325 Preparing to unpack .../0-build-essential_12.9_amd64.deb ...
#6 4.355 Unpacking build-essential (12.9) ...
#6 4.611 Selecting previously unselected package javascript-common.
#6 4.614 Preparing to unpack .../1-javascript-common_11+nmu1_all.deb ...
#6 4.651 Unpacking javascript-common (11+nmu1) ...
#6 4.871 Selecting previously unselected package libc-ares2:amd64.
#6 4.873 Preparing to unpack .../2-libc-ares2_1.17.1-1+deb11u3_amd64.deb ...
#6 4.926 Unpacking libc-ares2:amd64 (1.17.1-1+deb11u3) ...
#6 5.089 Selecting previously unselected package libjs-highlight.js.
#6 5.091 Preparing to unpack .../3-libjs-highlight.js_9.18.5+dfsg1-1_all.deb ...
#6 5.118 Unpacking libjs-highlight.js (9.18.5+dfsg1-1) ...
#6 5.500 Selecting previously unselected package libuv1:amd64.
#6 5.502 Preparing to unpack .../4-libuv1_1.40.0-2+deb11u1_amd64.deb ...
#6 5.528 Unpacking libuv1:amd64 (1.40.0-2+deb11u1) ...
#6 5.742 Selecting previously unselected package libnode72:amd64.
#6 5.744 Preparing to unpack .../5-libnode72_12.22.12~dfsg-1~deb11u4_amd64.deb ...
#6 5.771 Unpacking libnode72:amd64 (12.22.12~dfsg-1~deb11u4) ...
#6 7.304 Preparing to unpack .../6-libpq-dev_13.15-0+deb11u1_amd64.deb ...
#6 7.405 Unpacking libpq-dev (13.15-0+deb11u1) over (13.5-0+deb11u1) ...
#6 11.69 Preparing to unpack .../7-libpq5_13.15-0+deb11u1_amd64.deb ...
#6 11.78 Unpacking libpq5:amd64 (13.15-0+deb11u1) over (13.5-0+deb11u1) ...
#6 12.41 Selecting previously unselected package nodejs.
#6 12.42 Preparing to unpack .../8-nodejs_12.22.12~dfsg-1~deb11u4_amd64.deb ...
#6 12.44 Unpacking nodejs (12.22.12~dfsg-1~deb11u4) ...
#6 12.69 Selecting previously unselected package nodejs-doc.
#6 12.69 Preparing to unpack .../9-nodejs-doc_12.22.12~dfsg-1~deb11u4_all.deb ...
#6 12.72 Unpacking nodejs-doc (12.22.12~dfsg-1~deb11u4) ...
#6 13.23 Setting up javascript-common (11+nmu1) ...
#6 13.40 Setting up libpq5:amd64 (13.15-0+deb11u1) ...
#6 13.49 Setting up libpq-dev (13.15-0+deb11u1) ...
#6 13.57 Setting up libc-ares2:amd64 (1.17.1-1+deb11u3) ...
#6 13.65 Setting up libuv1:amd64 (1.40.0-2+deb11u1) ...
#6 13.72 Setting up libjs-highlight.js (9.18.5+dfsg1-1) ...
#6 13.80 Setting up build-essential (12.9) ...
#6 13.88 Setting up libnode72:amd64 (12.22.12~dfsg-1~deb11u4) ...
#6 13.95 Setting up nodejs-doc (12.22.12~dfsg-1~deb11u4) ...
#6 14.03 Setting up nodejs (12.22.12~dfsg-1~deb11u4) ...
#6 14.11 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 14.15 Processing triggers for libc-bin (2.31-13+deb11u2) ...
#6 DONE 27.8s

#7 [3/9] RUN mkdir -p /apps
#7 DONE 0.9s

#8 [4/9] WORKDIR /tmp
#8 DONE 1.0s

#9 [5/9] COPY Gemfile /tmp/Gemfile
#9 DONE 0.4s

#10 [6/9] COPY Gemfile.lock /tmp/Gemfile.lock
#10 DONE 0.5s

#11 [7/9] RUN gem install bundler -v 1.11.2 && bundle install
#11 26.88 Successfully installed bundler-1.11.2
#11 26.88 1 gem installed
#11 27.25 Your Ruby version is 2.7.4, but your Gemfile specified 2.1.5
#11 ERROR: process "/bin/sh -c gem install bundler -v 1.11.2 && bundle install" did not complete successfully: exit code: 18
------
 > [7/9] RUN gem install bundler -v 1.11.2 && bundle install:
26.88 Successfully installed bundler-1.11.2
26.88 1 gem installed
27.25 Your Ruby version is 2.7.4, but your Gemfile specified 2.1.5
------
v2_Dockerfile:16
--------------------
  14 |     COPY Gemfile /tmp/Gemfile
  15 |     COPY Gemfile.lock /tmp/Gemfile.lock
  16 | >>> RUN gem install bundler -v 1.11.2 && bundle install
  17 |     
  18 |     # Copy application code from workstation to the working directory
--------------------
ERROR: failed to solve: process "/bin/sh -c gem install bundler -v 1.11.2 && bundle install" did not complete successfully: exit code: 18
Duration: 1:27.94